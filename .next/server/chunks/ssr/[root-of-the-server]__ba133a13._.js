module.exports=[54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},80455,(a,b,c)=>{b.exports=a.x("jsdom",()=>require("jsdom"))},66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},84476,a=>{"use strict";a.s(["Textarea",()=>C],84476);var b=a.i(47531),c=a.i(5554),d=a.i(65248),e=a.i(72131);function f(){return(f=Object.assign.bind()).apply(null,arguments)}var g="undefined"!=typeof document?e.useLayoutEffect:function(){},h=function(a){var b=e.default.useRef(a);return g(function(){b.current=a}),b},i=function(a,b){if("function"==typeof a)return void a(b);a.current=b},j=function(a,b){var c=e.default.useRef();return e.default.useCallback(function(d){a.current=d,c.current&&i(c.current,null),c.current=b,b&&i(b,d)},[b])},k="undefined"!=typeof document,l={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},m=function(a){Object.keys(l).forEach(function(b){a.style.setProperty(b,l[b],"important")})},n=null,o=function(a,b){var c=a.scrollHeight;return"border-box"===b.sizingStyle.boxSizing?c+b.borderSize:c-b.paddingSize},p=function(){},q=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],r=!!k&&!!document.documentElement.currentStyle,s=function(a){var b=window.getComputedStyle(a);if(null===b)return null;var c=q.reduce(function(a,c){return a[c]=b[c],a},{}),d=c.boxSizing;if(""===d)return null;r&&"border-box"===d&&(c.width=parseFloat(c.width)+parseFloat(c.borderRightWidth)+parseFloat(c.borderLeftWidth)+parseFloat(c.paddingRight)+parseFloat(c.paddingLeft)+"px");var e=parseFloat(c.paddingBottom)+parseFloat(c.paddingTop),f=parseFloat(c.borderBottomWidth)+parseFloat(c.borderTopWidth);return{sizingStyle:c,paddingSize:e,borderSize:f}};function t(a,b,c){var d=h(c);e.useLayoutEffect(function(){var c=function(a){return d.current(a)};if(a)return a.addEventListener(b,c),function(){return a.removeEventListener(b,c)}},[])}var u=function(a,b){t(document.body,"reset",function(c){a.current.form===c.target&&b(c)})},v=function(a){t(window,"resize",a)},w=function(a){t(document.fonts,"loadingdone",a)},x=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],y=e.forwardRef(function(a,b){var c=a.cacheMeasurements,d=a.maxRows,g=a.minRows,h=a.onChange,i=void 0===h?p:h,l=a.onHeightChange,q=void 0===l?p:l,r=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,x),t=void 0!==r.value,y=e.useRef(null),z=j(y,b),A=e.useRef(0),B=e.useRef(),C=function(){var a=y.current,b=c&&B.current?B.current:s(a);if(b){B.current=b;var e,f,h,i,j,k,l,p,r,t,u,v=(e=a.value||a.placeholder||"x",void 0===(f=g)&&(f=1),void 0===(h=d)&&(h=1/0),n||((n=document.createElement("textarea")).setAttribute("tabindex","-1"),n.setAttribute("aria-hidden","true"),m(n)),null===n.parentNode&&document.body.appendChild(n),i=b.paddingSize,j=b.borderSize,l=(k=b.sizingStyle).boxSizing,Object.keys(k).forEach(function(a){n.style[a]=k[a]}),m(n),n.value=e,p=o(n,b),n.value=e,p=o(n,b),n.value="x",t=(r=n.scrollHeight-i)*f,"border-box"===l&&(t=t+i+j),p=Math.max(t,p),u=r*h,"border-box"===l&&(u=u+i+j),[p=Math.min(u,p),r]),w=v[0],x=v[1];A.current!==w&&(A.current=w,a.style.setProperty("height",w+"px","important"),q(w,{rowHeight:x}))}};return k?(e.useLayoutEffect(C),u(y,function(){if(!t){var a=y.current.value;requestAnimationFrame(function(){var b=y.current;b&&a!==b.value&&C()})}}),v(C),w(C),e.createElement("textarea",f({},r,{onChange:function(a){t||C(),i(a)},ref:z}))):e.createElement("textarea",f({},r,{onChange:i,ref:z}))}),z=a.i(68424),A=a.i(87924),B=(0,d.forwardRef)(({style:a,minRows:d=3,maxRows:f=8,cacheMeasurements:g=!1,disableAutosize:h=!1,onHeightChange:i,...j},k)=>{let{Component:l,label:m,description:n,startContent:o,endContent:p,hasHelper:q,shouldLabelBeOutside:r,shouldLabelBeInside:s,isInvalid:t,errorMessage:u,getBaseProps:v,getLabelProps:w,getInputProps:x,getInnerWrapperProps:B,getInputWrapperProps:C,getHelperWrapperProps:D,getDescriptionProps:E,getErrorMessageProps:F,isClearable:G,getClearButtonProps:H}=(0,b.useInput)({...j,ref:k,isMultiline:!0}),[I,J]=(0,e.useState)(d>1),[K,L]=(0,e.useState)(!1),M=m?(0,A.jsx)("label",{...w(),children:m}):null,N=x(),O=h?(0,A.jsx)("textarea",{...N,style:(0,c.mergeProps)(N.style,null!=a?a:{})}):(0,A.jsx)(y,{...N,cacheMeasurements:g,"data-hide-scroll":(0,c.dataAttr)(!K),maxRows:f,minRows:d,style:(0,c.mergeProps)(N.style,null!=a?a:{}),onHeightChange:(a,b)=>{1===d&&J(a>=2*b.rowHeight),f>d&&L(a>=f*b.rowHeight),null==i||i(a,b)}}),P=(0,e.useMemo)(()=>G?(0,A.jsx)("button",{...H(),children:(0,A.jsx)(z.CloseFilledIcon,{})}):null,[G,H]),Q=(0,e.useMemo)(()=>o||p?(0,A.jsxs)("div",{...B(),children:[o,O,p]}):(0,A.jsx)("div",{...B(),children:O}),[o,N,p,B]),R=t&&u,S=R||n;return(0,A.jsxs)(l,{...v(),children:[r?M:null,(0,A.jsxs)("div",{...C(),"data-has-multiple-rows":(0,c.dataAttr)(I),children:[s?M:null,Q,P]}),q&&S?(0,A.jsx)("div",{...D(),children:R?(0,A.jsx)("div",{...F(),children:u}):(0,A.jsx)("div",{...E(),children:n})}):null]})});B.displayName="HeroUI.Textarea";var C=B},60208,a=>{"use strict";a.s(["CheckboxGroup",()=>u],60208);var b=a.i(8933),c=a.i(72131),d=a.i(88170),e=a.i(34952),f=a.i(54200),g=a.i(91759),h=a.i(82769),i=a.i(34916),j=a.i(28084),k=a.i(39668),l=a.i(13727),m=a.i(70216),n=a.i(5554),o=a.i(36621),p=a.i(83147),q=a.i(58464),r=a.i(65248),s=a.i(87924),t=(0,r.forwardRef)((a,r)=>{let{children:t,context:u,label:v,description:w,isInvalid:x,errorMessage:y,getGroupProps:z,getLabelProps:A,getWrapperProps:B,getDescriptionProps:C,getErrorMessageProps:D}=function(a){var q,r;let s=(0,b.useProviderContext)(),{validationBehavior:t}=(0,p.useSlottedContext)(o.FormContext)||{},{as:u,ref:v,classNames:w,children:x,label:y,radius:z,value:A,name:B,defaultValue:C,isInvalid:D,validationState:E,size:F="md",color:G="primary",orientation:H="vertical",lineThrough:I=!1,isDisabled:J=!1,validationBehavior:K=null!=(q=null!=t?t:null==s?void 0:s.validationBehavior)?q:"native",disableAnimation:L=null!=(r=null==s?void 0:s.disableAnimation)&&r,isReadOnly:M,isRequired:N,onValueChange:O,description:P,errorMessage:Q,className:R,...S}=a,T=u||"div",U="string"==typeof T,V=(0,m.useDOMRef)(v),W=(0,c.useMemo)(()=>({...S,value:A,name:B,"aria-label":(0,n.safeAriaLabel)(S["aria-label"],y),defaultValue:C,isRequired:N,isReadOnly:M,orientation:H,validationBehavior:K,isInvalid:"invalid"===E||D,onChange:(0,n.chain)(a.onChange,O)}),[A,B,y,C,N,M,H,O,D,E,K,S["aria-label"],S]),X=function(a={}){var b,d;let[e,f]=(0,k.useControlledState)(a.value,a.defaultValue||[],a.onChange),[g]=(0,c.useState)(e),h=!!a.isRequired&&0===e.length,i=(0,c.useRef)(new Map),l=(0,j.useFormValidationState)({...a,value:e}),m=l.displayValidation.isInvalid;return{...l,value:e,defaultValue:null!=(b=a.defaultValue)?b:g,setValue(b){a.isReadOnly||a.isDisabled||f(b)},isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isSelected:a=>e.includes(a),addValue(b){a.isReadOnly||a.isDisabled||e.includes(b)||f(e=e.concat(b))},removeValue(b){a.isReadOnly||a.isDisabled||e.includes(b)&&f(e.filter(a=>a!==b))},toggleValue(b){a.isReadOnly||a.isDisabled||(e.includes(b)?f(e.filter(a=>a!==b)):f(e.concat(b)))},setInvalid(a,b){let c=new Map(i.current);b.isInvalid?c.set(a,b):c.delete(a),i.current=c,l.updateValidation((0,j.mergeValidation)(...c.values()))},validationState:null!=(d=a.validationState)?d:m?"invalid":null,isInvalid:m,isRequired:h}}(W),{labelProps:Y,groupProps:Z,descriptionProps:$,errorMessageProps:_,validationErrors:aa,validationDetails:ab}=function(a,b){let{isDisabled:c,name:d,form:j,validationBehavior:k="aria"}=a,{isInvalid:l,validationErrors:m,validationDetails:n}=b.displayValidation,{labelProps:o,fieldProps:p,descriptionProps:q,errorMessageProps:r}=(0,h.useField)({...a,labelElementType:"span",isInvalid:l,errorMessage:a.errorMessage||m});e.checkboxGroupData.set(b,{name:d,form:j,descriptionId:q.id,errorMessageId:r.id,validationBehavior:k});let s=(0,f.filterDOMProps)(a,{labelable:!0}),{focusWithinProps:t}=(0,i.useFocusWithin)({onBlurWithin:a.onBlur,onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange});return{groupProps:(0,g.mergeProps)(s,{role:"group","aria-disabled":c||void 0,...p,...t}),labelProps:o,descriptionProps:q,errorMessageProps:r,isInvalid:l,validationErrors:m,validationDetails:n}}(W,X),ac=(0,c.useMemo)(()=>({size:F,color:G,radius:z,lineThrough:I,isInvalid:X.isInvalid,isDisabled:J,disableAnimation:L,validationBehavior:K,groupState:X}),[F,G,z,I,J,L,K,X.value,X.isDisabled,X.isReadOnly,X.isInvalid,X.isSelected]),ad=(0,c.useMemo)(()=>(0,d.checkboxGroup)({isRequired:N,isInvalid:X.isInvalid,disableAnimation:L}),[N,X.isInvalid,,L]),ae=(0,n.clsx)(null==w?void 0:w.base,R),af=(0,c.useCallback)(()=>({ref:V,className:ad.base({class:ae}),...(0,n.mergeProps)(Z,(0,l.filterDOMProps)(S,{enabled:U}))}),[ad,V,ae,Z,S]),ag=(0,c.useCallback)(()=>({className:ad.label({class:null==w?void 0:w.label}),...Y}),[ad,Y,null==w?void 0:w.label]),ah=(0,c.useCallback)(()=>({className:ad.wrapper({class:null==w?void 0:w.wrapper}),role:"presentation","data-orientation":H}),[ad,H,null==w?void 0:w.wrapper]),ai=(0,c.useCallback)((a={})=>({...a,...$,className:ad.description({class:(0,n.clsx)(null==w?void 0:w.description,null==a?void 0:a.className)})}),[ad,$,null==w?void 0:w.description]),aj=(0,c.useCallback)((a={})=>({...a,..._,className:ad.errorMessage({class:(0,n.clsx)(null==w?void 0:w.errorMessage,null==a?void 0:a.className)})}),[ad,_,null==w?void 0:w.errorMessage]);return{Component:T,children:x,label:y,context:ac,description:P,isInvalid:X.isInvalid,errorMessage:"function"==typeof Q?Q({isInvalid:X.isInvalid,validationErrors:aa,validationDetails:ab}):Q||(null==aa?void 0:aa.join(" ")),getGroupProps:af,getLabelProps:ag,getWrapperProps:ah,getDescriptionProps:ai,getErrorMessageProps:aj}}({...a,ref:r});return(0,s.jsxs)("div",{...z(),children:[v&&(0,s.jsx)("span",{...A(),children:v}),(0,s.jsx)("div",{...B(),children:(0,s.jsx)(q.CheckboxGroupProvider,{value:u,children:t})}),x&&y?(0,s.jsx)("div",{...D(),children:y}):w?(0,s.jsx)("div",{...C(),children:w}):null]})});t.displayName="HeroUI.CheckboxGroup";var u=t},62726,a=>{"use strict";a.s(["languageOptions",()=>b]);let b=[{key:"en",value:"English"},{key:"zh",value:"Chinese"},{key:"zh_CN",value:"Chinese (Simplified)"},{key:"zh_TW",value:"Chinese (Traditional)"},{key:"es",value:"Spanish"},{key:"fr",value:"French"},{key:"de",value:"German"},{key:"it",value:"Italian"},{key:"ja",value:"Japanese"},{key:"ko",value:"Korean"},{key:"ru",value:"Russian"},{key:"pt",value:"Portuguese"},{key:"pt_BR",value:"Portuguese (Brazil)"},{key:"ar",value:"Arabic"},{key:"hi",value:"Hindi"},{key:"tr",value:"Turkish"},{key:"nl",value:"Dutch"},{key:"sv",value:"Swedish"},{key:"pl",value:"Polish"},{key:"he",value:"Hebrew"},{key:"vi",value:"Vietnamese"},{key:"th",value:"Thai"},{key:"id",value:"Indonesian"}]},68253,a=>{"use strict";a.s(["getTagAll",()=>c]);var b=a.i(5050),c=(0,b.createServerReference)("40a98cb837fc4c96b91eb5a33b91e044edca5580d9",b.callServer,void 0,b.findSourceMapURL,"getTagAll")},13781,57476,a=>{"use strict";a.s(["getMedia",()=>c],13781);var b=a.i(5050),c=(0,b.createServerReference)("40beee62a39fb5ef98ef32c398f3a116e0cd5b2394",b.callServer,void 0,b.findSourceMapURL,"getMedia");a.s(["hideWord",()=>d,"isAudio",()=>g,"playMediaPart",()=>h,"pureContent",()=>e,"splitContent",()=>f],57476);let d=a=>{let b=a.replaceAll(/[a-zA-Z0-9äÄöÖüÜßé]/g,"_"),c=0,d="";for(let a of b)"_"===a?c++:c>0&&(d+=`${c}`,c=0),d+=a;return c>0&&(d+=`${c}`),d},e=a=>a.replaceAll(/[^a-zA-Z0-9äÄöÖüÜßé]/g,""),f=(a,b)=>{let c=[],d="";for(let e of a){if(e.match(/[a-zA-Z0-9äÄöÖüÜßé]/)){d+=e;continue}""!==d&&(c.push({isWord:!0,content:d}),d=""),b||c.push({isWord:!1,content:e})}return""!==d&&c.push({isWord:!0,content:d}),c},g=a=>{let b=["mp3","wav","aac","m4a","ogg","flac","wma"];try{let c=new URL(a).pathname,d=c.split(".").pop()?.toLowerCase();return!!d&&b.includes(d)}catch{let c=a.split(".").pop()?.toLowerCase();return!!c&&b.includes(c)}},h=async(a,b,c=!1)=>{if(!b)return;let d=c&&a.start_ms>=500?a.start_ms-500:a.start_ms,e=c?a.end_ms+500:a.end_ms;b.pause(),(isNaN(b.duration)||b.readyState<1)&&await new Promise(a=>{let c=()=>{b.removeEventListener("loadedmetadata",c),a()};b.addEventListener("loadedmetadata",c),b.load()}),await new Promise(a=>{let c=()=>{b.removeEventListener("seeked",c),a()};b.addEventListener("seeked",c),b.currentTime=d/1e3}),await b.play().catch(()=>{});let f=()=>{b.currentTime>=e/1e3&&(b.pause(),1)||requestAnimationFrame(f)};requestAnimationFrame(f)}},75870,a=>{"use strict";a.s(["default",()=>A],75870);var b=a.i(87924),c=a.i(68114),d=a.i(32496),e=a.i(24738),f=a.i(60208),g=a.i(75090),h=a.i(47977),i=a.i(72131),j=a.i(20094),k=a.i(5050),l=(0,k.createServerReference)("60683c69608e522297b6bc5673a00b2b9e453fbd21",k.callServer,void 0,k.findSourceMapURL,"getMediaTag"),m=a.i(68253),n=(0,k.createServerReference)("409c76511e342cc2c9a8c239d9450ebe607ca37c81",k.callServer,void 0,k.findSourceMapURL,"removeMedia"),o=(0,k.createServerReference)("4047da957725ebd8acfc5254d718003a7af2ba1b75",k.callServer,void 0,k.findSourceMapURL,"saveMedia");k.callServer,k.findSourceMapURL;var p=a.i(13781),q=a.i(62726),r=a.i(4655),s=a.i(24647),t=a.i(84476);function u({user_id:a,item:c,handleUpdate:e,handleDelete:f}){let[g,h]=(0,i.useState)(c);return(0,b.jsx)(b.Fragment,{children:g.user_id===a?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-start w-full rounded-md bg-sand-300 gap-1 p-2",children:[(0,b.jsxs)("div",{className:"flex flex-row items-center justify-end w-full gap-1",children:[(0,b.jsx)(r.Select,{"aria-label":"Language",size:"sm",className:"max-w-sm",selectionMode:"single",selectedKeys:g.language?[c.language]:[],onChange:a=>h({...c,language:a.target.value}),children:q.languageOptions.map(a=>(0,b.jsx)(s.SelectItem,{textValue:a.key,children:`${a.key} - ${a.value}`},a.key))}),(0,b.jsx)(d.Button,{variant:"solid",color:"primary",size:"sm",onPress:async()=>await e(g),children:"Save"}),(0,b.jsx)(d.Button,{variant:"solid",color:"primary",size:"sm",onPress:async()=>await f(g),children:"Delete"})]}),(0,b.jsx)(t.Textarea,{classNames:{input:"text-xl leading-tight font-roboto"},value:g.transcript,onChange:a=>h({...c,transcript:a.target.value})})]}):(0,b.jsxs)("div",{className:"flex flex-row items-center justify-start w-full rounded-md bg-sand-300 gap-1",children:[(0,b.jsx)("div",{className:"text-lg",children:g.transcript}),(0,b.jsx)("div",{className:"text-lg",children:g.language})]})})}function v({user_id:a,item:c,handleUpdate:e,handleDelete:f}){let[g,h]=(0,i.useState)(c);return(0,b.jsx)(b.Fragment,{children:g.user_id===a?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-start w-full gap-1",children:[(0,b.jsxs)("div",{className:"flex flex-row items-center justify-start w-full gap-1",children:[(0,b.jsx)(r.Select,{"aria-label":"Language",selectionMode:"single",selectedKeys:g.language?[c.language]:[],onChange:a=>h({...c,language:a.target.value}),children:q.languageOptions.map(a=>(0,b.jsx)(s.SelectItem,{textValue:a.key,children:`${a.key} - ${a.value}`},a.key))}),(0,b.jsx)(d.Button,{variant:"solid",color:"primary",onPress:async()=>await e(g),children:"Save"}),(0,b.jsx)(d.Button,{variant:"solid",color:"primary",onPress:async()=>await f(g),children:"Delete"})]}),(0,b.jsx)(t.Textarea,{classNames:{input:"text-xl leading-tight font-roboto"},value:g.subtitle,onChange:a=>h({...c,subtitle:a.target.value})})]}):(0,b.jsxs)("div",{className:"flex flex-row items-center justify-start w-full gap-1",children:[(0,b.jsx)("div",{className:"text-lg",children:g.subtitle}),(0,b.jsx)("div",{className:"text-lg",children:g.language})]})})}function w({user_id:a,item:c,handleUpdate:e,handleDelete:f}){let[g,h]=(0,i.useState)(c);return(0,b.jsx)(b.Fragment,{children:g.user_id===a?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-start w-full gap-1",children:[(0,b.jsxs)("div",{className:"flex flex-row items-center justify-start w-full gap-1",children:[(0,b.jsx)(d.Button,{variant:"solid",color:"primary",onPress:async()=>await e(g),children:"Save"}),(0,b.jsx)(d.Button,{variant:"solid",color:"primary",onPress:async()=>await f(g),children:"Delete"})]}),(0,b.jsx)(t.Textarea,{classNames:{input:"text-xl leading-tight font-roboto"},value:g.note,onChange:a=>h({...c,note:a.target.value})})]}):(0,b.jsx)("div",{className:"flex flex-row items-center justify-start w-full gap-1",children:(0,b.jsx)("div",{className:"text-lg",children:g.note})})})}var x=a.i(328),y=a.i(57476);function z({src:a,className:c="",controls:d=!0,autoPlay:e=!1}){return(0,b.jsx)(b.Fragment,{children:!!a&&((0,y.isAudio)(a)?(0,b.jsx)("div",{className:"sticky top-0 p-4 z-50",children:(0,b.jsx)("audio",{src:a,controls:d,autoPlay:e,className:c,preload:"auto"})}):(0,b.jsx)("div",{className:"flex flex-row items-end justify-end fixed bottom-0 end-0 p-4 z-50",children:(0,b.jsx)("video",{src:a,controls:d,autoPlay:e,className:c?"h-[30vh] w-auto max-w-full":c,preload:"auto"})}))})}function A({user_id:a,uuid:k}){let[q,r]=(0,i.useState)({uuid:(0,c.getUUID)(),user_id:a,title:"",source:"",note:"",created_at:new Date,updated_at:new Date}),[s,t]=(0,i.useState)(),[y,A]=(0,i.useState)([]),[B,C]=(0,i.useState)([]),[D,E]=(0,i.useState)([]),[F,G]=(0,i.useState)([]),[H,I]=(0,i.useState)([]),[J,K]=(0,i.useState)([]),[L,M]=(0,i.useState)(!1),[N,O]=(0,i.useState)({uuid:(0,c.getUUID)(),user_id:a,media_uuid:"",language:"",transcript:"",created_at:new Date,updated_at:new Date}),[P,Q]=(0,i.useState)({uuid:(0,c.getUUID)(),user_id:a,media_uuid:"",language:"",subtitle:"",format:"",created_at:new Date,updated_at:new Date}),[R,S]=(0,i.useState)({uuid:(0,c.getUUID)(),user_id:a,media_uuid:"",note:"",created_at:new Date,updated_at:new Date});return(0,i.useEffect)(()=>{(async()=>{let b=await (0,m.getTagAll)(a);if("success"===b.status?G(b.data):(console.log(b.error),j.toast.error("load data error")),"add"!==k){let d=await (0,p.getMedia)(k);if("success"===d.status){let e=d.data.media.user_id===a;if(r({...d.data.media,uuid:e?d.data.media.uuid:(0,c.getUUID)(),user_id:a}),A(d.data.transcript_list||[]),C(d.data.subtitle_list||[]),E(d.data.note_list||[]),e&&"success"===b.status){let c=await l(a,d.data.media.uuid);"success"===c.status?(I(c.data),K(c.data.filter(a=>b.data.map(a=>a.uuid).includes(a)))):(console.log(c.error),j.toast.error("load data error"))}}else console.log(d.error),j.toast.error("load data error")}})()},[k]),(0,b.jsxs)("div",{className:"w-full space-y-4 mb-10 px-2",children:["add"!==k&&q&&q.user_id!==a&&(0,b.jsx)("div",{className:"flex flex-row items-start justify-start gap-4",children:(0,b.jsx)(h.Link,{className:"text-blue-500 underline",target:"_blank",href:`/media/others?user_id=${q.user_id}`,children:q.user_id})}),(0,b.jsxs)("div",{className:"flex flex-row items-end justify-end gap-4",children:[(0,b.jsx)(d.Button,{color:"primary",type:"submit",variant:"solid",size:"sm",isDisabled:L,onPress:async()=>{"success"===(await o(q)).status?j.toast.success("save media success"):j.toast.error("save media failed")},children:"Save"}),(0,b.jsx)(d.Button,{color:"danger",variant:"solid",size:"sm",onPress:async()=>{"add"!==k&&q&&q.user_id===a&&("success"===(await n(k)).status?j.toast.success("remove media success"):j.toast.error("remove media failed"))},children:"Remove"})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center w-full p-2 gap-1 bg-sand-300",children:[(0,b.jsx)(g.Input,{label:"Title",className:"w-full",value:q.title,onChange:a=>r({...q,title:a.target.value})}),(0,b.jsx)(f.CheckboxGroup,{color:"success",className:"w-full",value:J,onValueChange:K,orientation:"horizontal",children:F.map(a=>(0,b.jsx)(e.Checkbox,{value:a.uuid,children:a.tag},a.uuid))}),(0,b.jsx)(g.Input,{label:"Source",className:"w-full",value:q.source,onChange:a=>r({...q,source:a.target.value}),endContent:(0,b.jsx)(d.Button,{isIconOnly:!0,size:"sm",children:(0,b.jsxs)("label",{children:[(0,b.jsx)(x.MdFileUpload,{size:24}),(0,b.jsx)("input",{type:"file",className:"hidden",onChange:a=>{let b=a.target.files;if(!b||0===b.length)return;let c=b[0];t(c);let d=c.name.split(".").pop()?.toLowerCase();r({...q,source:`/api/data/listen/media/${q.uuid}.${d}`}),a.target.value=""},accept:"audio/*,video/*"})]})})}),(0,b.jsx)(g.Input,{label:"note",value:q.note,onChange:a=>r({...q,note:a.target.value})}),s?(0,b.jsx)(z,{src:URL.createObjectURL(s)}):(0,b.jsx)(z,{src:q.source})]}),y&&y.length>0?(0,b.jsx)("div",{className:"flex flex-col items-center justify-start w-full gap-1",children:y.map((c,d)=>(0,b.jsx)(u,{user_id:a,item:c,handleUpdate:async a=>{},handleDelete:async a=>{}},d))}):(0,b.jsx)(u,{user_id:a,item:N,handleUpdate:async a=>{},handleDelete:async a=>{}}),B&&B.length>0?(0,b.jsx)("div",{className:"flex flex-col items-center justify-start w-full gap-1",children:B.map((c,d)=>(0,b.jsx)(v,{user_id:a,item:c,handleUpdate:async a=>{},handleDelete:async a=>{}},d))}):(0,b.jsx)(v,{user_id:a,item:P,handleUpdate:async a=>{},handleDelete:async a=>{}}),D&&D.length>0?(0,b.jsx)("div",{className:"flex flex-col items-center justify-start w-full gap-1",children:D.map((c,d)=>(0,b.jsx)(w,{user_id:a,item:c,handleUpdate:async a=>{},handleDelete:async a=>{}},d))}):(0,b.jsx)(w,{user_id:a,item:R,handleUpdate:async a=>{},handleDelete:async a=>{}})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ba133a13._.js.map