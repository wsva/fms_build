module.exports=[54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},41109,a=>{"use strict";a.s(["default",()=>n],41109);var b=a.i(87924),c=a.i(68114),d=a.i(32496),e=a.i(75090),f=a.i(84476),g=a.i(47977),h=a.i(72131),i=a.i(50944),j=a.i(95245),k=a.i(20094),l=a.i(5050),m=(0,l.createServerReference)("405bbc0a0959e61b89d3452fea6717a1e9dfc16dd9",l.callServer,void 0,l.findSourceMapURL,"saveBlog");function n({item:a,email:l,edit_view:n}){let o=(0,i.useSearchParams)(),[p,q]=(0,h.useState)(""),[r,s]=(0,h.useState)(n),{register:t,handleSubmit:u,formState:v,watch:w}=(0,j.useForm)({});(0,h.useEffect)(()=>{q(a?.uuid&&a.user_id===l?a.uuid:(0,c.getUUID)())},[]);let x=b=>{if(a){let d=(0,c.getProperty)(a,b);if(d)return d}let d=o.get(b);if(d)return decodeURIComponent(d)},y=async b=>{"success"===(await m({...b,uuid:p,user_id:l,created_at:a?.created_at?a.created_at:new Date,updated_at:new Date})).status?(k.toast.success("save blog success"),window.location.href="/blog"):k.toast.error("save blog failed")};return(0,b.jsx)("form",{onSubmit:u(y),children:(0,b.jsxs)("div",{className:"w-full space-y-4 px-2 mb-10",children:[a&&a.user_id!==l&&(0,b.jsx)("div",{className:"flex flex-row my-1 items-start justify-start gap-4",children:(0,b.jsx)(g.Link,{className:"text-blue-500 underline",target:"_blank",href:`/blog/all_of_another?user_id=${a.user_id}`,children:a.user_id})}),(!a?.user_id||a.user_id===l)&&(0,b.jsxs)("div",{className:"flex flex-row my-1 items-end justify-end gap-4",children:[(0,b.jsx)(d.Button,{color:"primary",variant:"solid",size:"sm",onPress:()=>s(!r),children:r?"View":"Edit"}),(0,b.jsx)(d.Button,{color:"primary",variant:"solid",size:"sm",type:"submit",isLoading:v.isSubmitting,children:"Save"})]}),r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Input,{label:"title",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:x("title"),...t("title")}),(0,b.jsx)(f.Textarea,{label:"description",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:x("description"),...t("description")}),(0,b.jsx)(f.Textarea,{label:"content",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:x("content"),minRows:10,maxRows:999,autoComplete:"off",autoCorrect:"off",spellCheck:"false",...t("content")})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-3xl leading-tight font-roboto font-bold",children:w("title",x("title"))}),(0,b.jsx)("div",{className:"MD px-2 my-1 text-xl leading-tight font-roboto indent-0 whitespace-pre-wrap break-words hyphens-auto",dangerouslySetInnerHTML:{__html:(0,c.getHTML)(w("content",x("content"))||"")}}),(0,b.jsx)("div",{children:"TODO: write commentar"})]})]})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__942df5ef._.js.map