(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99749,e=>{"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.s(["_",()=>t])},24597,e=>{"use strict";e.s(["Link",()=>b],24597);var t=e.i(84898),n=e.i(79754),r=(0,t.tv)({base:["relative inline-flex items-center outline-solid outline-transparent tap-highlight-transparent",...n.dataFocusVisibleClasses],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-hover active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),s=e.i(69080),i=e.i(50179),a=e.i(11458),l=e.i(49962),o=e.i(43027),d=e.i(73830),c=e.i(95494),u=e.i(20253),h=e.i(29427),p=e.i(75540),f=e.i(71645),m=e.i(43476),x=e=>(0,m.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,m.jsx)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),(0,m.jsx)("path",{d:"M15 3h6v6"}),(0,m.jsx)("path",{d:"M10 14L21 3"})]}),g=(0,d.forwardRef)((e,t)=>{let{Component:n,children:g,showAnchorIcon:b,anchorIcon:v=(0,m.jsx)(x,{className:"flex mx-1 text-current self-center"}),getLinkProps:j}=function(e){var t,n,m,x;let g=(0,c.useProviderContext)(),[b,v]=(0,d.mapPropsVariants)(e,r.variantKeys),{ref:j,as:y,children:_,anchorIcon:w,isExternal:k=!1,showAnchorIcon:C=!1,autoFocus:N=!1,className:S,onPress:R,onPressStart:z,onPressEnd:B,onClick:A,...I}=b,M=(0,u.useDOMRef)(j),T=null!=(n=null!=(t=null==e?void 0:e.disableAnimation)?t:null==g?void 0:g.disableAnimation)&&n,{linkProps:D}=function(e,t){let{elementType:n="a",onPress:r,onPressStart:d,onPressEnd:c,onClick:u,isDisabled:h,...p}=e,f={};"a"!==n&&(f={role:"link",tabIndex:h?void 0:0});let{focusableProps:m}=(0,l.useFocusable)(e,t),{pressProps:x,isPressed:g}=(0,o.usePress)({onClick:u,onPress:r,onPressStart:d,onPressEnd:c,isDisabled:h,ref:t}),b=(0,s.filterDOMProps)(p,{labelable:!0,isLink:"a"===n}),v=(0,i.mergeProps)(m,x),j=(0,a.useRouter)(),y=(0,a.useLinkProps)(e);return{isPressed:g,linkProps:(0,i.mergeProps)(b,y,{...v,...f,"aria-disabled":h||void 0,"aria-current":e["aria-current"],onClick:t=>{var n;null==(n=x.onClick)||n.call(x,t),(0,a.handleLinkClick)(t,j,e.href,e.routerOptions)}})}}({...I,onPress:R,onPressStart:z,onPressEnd:B,onClick:A,isDisabled:e.isDisabled,elementType:"".concat(y)},M),{isFocused:L,isFocusVisible:P,focusProps:E}=(0,h.useFocusRing)({autoFocus:N});k&&(I.rel=null!=(m=I.rel)?m:"noopener noreferrer",I.target=null!=(x=I.target)?x:"_blank");let W=(0,f.useMemo)(()=>r({...v,disableAnimation:T,className:S}),[(0,p.objectToDeps)(v),T,S]);return{Component:y||"a",children:_,anchorIcon:w,showAnchorIcon:C,getLinkProps:(0,f.useCallback)(()=>({ref:M,className:W,"data-focus":(0,p.dataAttr)(L),"data-disabled":(0,p.dataAttr)(e.isDisabled),"data-focus-visible":(0,p.dataAttr)(P),...(0,p.mergeProps)(E,D,I)}),[W,L,P,E,D,I])}}({ref:t,...e});return(0,m.jsx)(n,{...j(),children:(0,m.jsxs)(m.Fragment,{children:[g,b&&v]})})});g.displayName="HeroUI.Link";var b=g},77148,e=>{"use strict";e.s(["Textarea",()=>S],77148);var t=e.i(34738),n=e.i(75540),r=e.i(73830),s=e.i(71645);function i(){return(i=Object.assign.bind()).apply(null,arguments)}var a=s.useLayoutEffect,l=function(e){var t=s.default.useRef(e);return a(function(){t.current=e}),t},o=function(e,t){if("function"==typeof e)return void e(t);e.current=t},d=function(e,t){var n=s.default.useRef();return s.default.useCallback(function(r){e.current=r,n.current&&o(n.current,null),n.current=t,t&&o(t,r)},[t])},c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},u=function(e){Object.keys(c).forEach(function(t){e.style.setProperty(t,c[t],"important")})},h=null,p=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize},f=function(){},m=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],x=!!document.documentElement.currentStyle,g=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n=m.reduce(function(e,n){return e[n]=t[n],e},{}),r=n.boxSizing;if(""===r)return null;x&&"border-box"===r&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px");var s=parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),i=parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth);return{sizingStyle:n,paddingSize:s,borderSize:i}};function b(e,t,n){var r=l(n);s.useLayoutEffect(function(){var n=function(e){return r.current(e)};if(e)return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}},[])}var v=function(e,t){b(document.body,"reset",function(n){e.current.form===n.target&&t(n)})},j=function(e){b(window,"resize",e)},y=function(e){b(document.fonts,"loadingdone",e)},_=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],w=s.forwardRef(function(e,t){var n=e.cacheMeasurements,r=e.maxRows,a=e.minRows,l=e.onChange,o=void 0===l?f:l,c=e.onHeightChange,m=void 0===c?f:c,x=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,_),b=void 0!==x.value,w=s.useRef(null),k=d(w,t),C=s.useRef(0),N=s.useRef(),S=function(){var e=w.current,t=n&&N.current?N.current:g(e);if(t){N.current=t;var s,i,l,o,d,c,f,x,b,v,j,y=(s=e.value||e.placeholder||"x",void 0===(i=a)&&(i=1),void 0===(l=r)&&(l=1/0),h||((h=document.createElement("textarea")).setAttribute("tabindex","-1"),h.setAttribute("aria-hidden","true"),u(h)),null===h.parentNode&&document.body.appendChild(h),o=t.paddingSize,d=t.borderSize,f=(c=t.sizingStyle).boxSizing,Object.keys(c).forEach(function(e){h.style[e]=c[e]}),u(h),h.value=s,x=p(h,t),h.value=s,x=p(h,t),h.value="x",v=(b=h.scrollHeight-o)*i,"border-box"===f&&(v=v+o+d),x=Math.max(v,x),j=b*l,"border-box"===f&&(j=j+o+d),[x=Math.min(j,x),b]),_=y[0],k=y[1];C.current!==_&&(C.current=_,e.style.setProperty("height",_+"px","important"),m(_,{rowHeight:k}))}};return s.useLayoutEffect(S),v(w,function(){if(!b){var e=w.current.value;requestAnimationFrame(function(){var t=w.current;t&&e!==t.value&&S()})}}),j(S),y(S),s.createElement("textarea",i({},x,{onChange:function(e){b||S(),o(e)},ref:k}))}),k=e.i(19110),C=e.i(43476),N=(0,r.forwardRef)((e,r)=>{let{style:i,minRows:a=3,maxRows:l=8,cacheMeasurements:o=!1,disableAutosize:d=!1,onHeightChange:c,...u}=e,{Component:h,label:p,description:f,startContent:m,endContent:x,hasHelper:g,shouldLabelBeOutside:b,shouldLabelBeInside:v,isInvalid:j,errorMessage:y,getBaseProps:_,getLabelProps:N,getInputProps:S,getInnerWrapperProps:R,getInputWrapperProps:z,getHelperWrapperProps:B,getDescriptionProps:A,getErrorMessageProps:I,isClearable:M,getClearButtonProps:T}=(0,t.useInput)({...u,ref:r,isMultiline:!0}),[D,L]=(0,s.useState)(a>1),[P,E]=(0,s.useState)(!1),W=p?(0,C.jsx)("label",{...N(),children:p}):null,O=S(),F=d?(0,C.jsx)("textarea",{...O,style:(0,n.mergeProps)(O.style,null!=i?i:{})}):(0,C.jsx)(w,{...O,cacheMeasurements:o,"data-hide-scroll":(0,n.dataAttr)(!P),maxRows:l,minRows:a,style:(0,n.mergeProps)(O.style,null!=i?i:{}),onHeightChange:(e,t)=>{1===a&&L(e>=2*t.rowHeight),l>a&&E(e>=l*t.rowHeight),null==c||c(e,t)}}),H=(0,s.useMemo)(()=>M?(0,C.jsx)("button",{...T(),children:(0,C.jsx)(k.CloseFilledIcon,{})}):null,[M,T]),V=(0,s.useMemo)(()=>m||x?(0,C.jsxs)("div",{...R(),children:[m,F,x]}):(0,C.jsx)("div",{...R(),children:F}),[m,O,x,R]),U=j&&y,G=U||f;return(0,C.jsxs)(h,{..._(),children:[b?W:null,(0,C.jsxs)("div",{...z(),"data-has-multiple-rows":(0,n.dataAttr)(D),children:[v?W:null,V,H]}),g&&G?(0,C.jsx)("div",{...B(),children:U?(0,C.jsx)("div",{...I(),children:y}):(0,C.jsx)("div",{...A(),children:f})}):null]})});N.displayName="HeroUI.Textarea";var S=N},14877,e=>{"use strict";e.s(["default",()=>O],14877);var t=e.i(43476),n=e.i(71645),r=e.i(35889),s=e.i(86914),i=e.i(33716),a=e.i(72853),l=e.i(76331),o=e.i(8870),d=e.i(212),c=e.i(77148),u=e.i(24597),h=e.i(99749);class p{append(e){this.end_time=e.end_time,this.end_ms=e.end_ms,this.content_list.push(...e.content_list),this.translation_list.push(...e.translation_list)}playMedia(e,t){e.paused||e.pause();let n=t?this.extend_start_ms:this.start_ms,r=t?this.extend_end_ms:this.end_ms;e.currentTime=n/1e3,e.play();let s=setTimeout(()=>{e.removeEventListener("pause",i),e.pause()},r-n);function i(){clearTimeout(s)}e.addEventListener("pause",i)}getTip(){let e=this.content_list.join(" ").replaceAll(/[a-zA-Z0-9äÄöÖüÜßé]/g,"_"),t=0,n="";for(let r of e)"_"===r?t++:t>0&&(n+="".concat(t),t=0),n+=r;return t>0&&(n+="".concat(t)),n}cleanStyle(e){return e.replace(/<font[^>]*>/g,"").replace(/<\/font>/g,"")}content(){return this.content_list.join(" ")}translation(){return this.translation_list.join("\n")}first_line(){return this.content_list.length>0?this.content_list[0]:""}last_line(){return this.content_list.length>0?this.content_list[this.content_list.length-1]:""}time_str(){return"".concat(this.start_time," --> ").concat(this.end_time)}constructor(e,t){if((0,h._)(this,"init_status","error"),(0,h._)(this,"init_error","not initialized"),(0,h._)(this,"position",0),(0,h._)(this,"start_time",""),(0,h._)(this,"end_time",""),(0,h._)(this,"start_ms",0),(0,h._)(this,"end_ms",0),(0,h._)(this,"extend_start_ms",0),(0,h._)(this,"extend_end_ms",0),(0,h._)(this,"content_list",[]),(0,h._)(this,"translation_list",[]),e.length<2){this.init_error="too few lines";return}if(!e[0].match(/^\d+$/)){this.init_error="invalid position number: ".concat(e[0]);return}let n=m(e[1]);if(!n){this.init_error="invalid time format: ".concat(e[1]);return}this.init_status="success",this.init_error="",this.position=parseInt(e[0]),this.start_time=n.start_time,this.start_ms=n.start_ms,this.end_time=n.end_time,this.end_ms=n.end_ms,t?(e.length>2&&this.content_list.push(this.cleanStyle(e[2])),e.length>3&&e.slice(3).forEach(e=>this.translation_list.push(this.cleanStyle(e)))):e.length>2&&e.slice(2).forEach(e=>this.content_list.push(this.cleanStyle(e)))}}let f=(e,t,n,r)=>36e5*parseInt(e)+6e4*parseInt(t)+1e3*parseInt(n)+parseInt(r),m=e=>{let t=e.match(/((\d{2}):(\d{2}):(\d{2}),(\d{3})) --> ((\d{2}):(\d{2}):(\d{2}),(\d{3}))/);return t?{start_time:t[1],start_ms:f(t[2],t[3],t[4],t[5]),end_time:t[6],end_ms:f(t[7],t[8],t[9],t[10])}:null},x=e=>{let t=[];for(let n of e){if(t.length>0&&t[t.length-1].last_line().match(/[a-zA-Z0-9äÄöÖüÜßé,:-]$/)&&n.first_line().match(/^[0-9a-z]/)){t[t.length-1].append(n);continue}t.push(n)}for(let e=0;e<t.length;e++)t[e].position=e+1;return t},g=e=>{let t=e.replaceAll(/[a-zA-Z0-9äÄöÖüÜßé]/g,"_"),n=0,r="";for(let e of t)"_"===e?n++:n>0&&(r+="".concat(n),n=0),r+=e;return n>0&&(r+="".concat(n)),r},b=e=>e.replaceAll(/[^a-zA-Z0-9äÄöÖüÜßé]/g,""),v=(e,t)=>{let n=[],r="";for(let s of e){if(s.match(/[a-zA-Z0-9äÄöÖüÜßé]/)){r+=s;continue}""!==r&&(n.push({isWord:!0,content:r}),r=""),t||n.push({isWord:!1,content:s})}return""!==r&&n.push({isWord:!0,content:r}),n};var j=()=>(0,t.jsxs)("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%",children:[(0,t.jsx)("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"})]}),[y,_]=(0,e.i(26823).createContext)({name:"AvatarGroupContext",strict:!1}),w=e.i(52841),k=e.i(84898),C=e.i(79754),N=(0,k.tv)({slots:{base:["flex","relative","justify-center","items-center","box-border","overflow-hidden","align-middle","text-white","z-0",...C.dataFocusVisibleClasses],img:["flex","object-cover","w-full","h-full","transition-opacity","!duration-500","opacity-0","data-[loaded=true]:opacity-100"],fallback:[...C.translateCenterClasses,"flex","items-center","justify-center"],name:[...C.translateCenterClasses,"font-normal","text-center","text-inherit"],icon:[...C.translateCenterClasses,"flex","items-center","justify-center","text-inherit","w-full","h-full"]},variants:{size:{sm:{base:"w-8 h-8 text-tiny"},md:{base:"w-10 h-10 text-tiny"},lg:{base:"w-14 h-14 text-small"}},color:{default:{base:w.colorVariants.solid.default},primary:{base:w.colorVariants.solid.primary},secondary:{base:w.colorVariants.solid.secondary},success:{base:w.colorVariants.solid.success},warning:{base:w.colorVariants.solid.warning},danger:{base:w.colorVariants.solid.danger}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isBordered:{true:{base:"ring-2 ring-offset-2 ring-offset-background dark:ring-offset-background-dark"}},isDisabled:{true:{base:"opacity-disabled"}},isInGroup:{true:{base:["-ms-2 data-[hover=true]:-translate-x-3 rtl:data-[hover=true]:translate-x-3 transition-transform","data-[focus-visible=true]:-translate-x-3 rtl:data-[focus-visible=true]:translate-x-3"]}},isInGridGroup:{true:{base:"m-0 data-[hover=true]:translate-x-0"}},disableAnimation:{true:{base:"transition-none",img:"transition-none"},false:{}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:"ring-default"}},{color:"primary",isBordered:!0,class:{base:"ring-primary"}},{color:"secondary",isBordered:!0,class:{base:"ring-secondary"}},{color:"success",isBordered:!0,class:{base:"ring-success"}},{color:"warning",isBordered:!0,class:{base:"ring-warning"}},{color:"danger",isBordered:!0,class:{base:"ring-danger"}}]});(0,k.tv)({slots:{base:"flex items-center justify-center h-auto w-max",count:"hover:-translate-x-0"},variants:{isGrid:{true:"inline-grid grid-cols-4 gap-3"}}});var S=e.i(95494),R=e.i(20253),z=e.i(19477),B=e.i(75540),A=e.i(29427),I=e.i(23260),M=e.i(71330),T=(0,e.i(73830).forwardRef)((e,r)=>{let{Component:s,ImgComponent:i,src:a,icon:l=(0,t.jsx)(j,{}),alt:o,classNames:d,slots:c,name:u,showFallback:h,fallback:p,getInitials:f,getAvatarProps:m,getImageProps:x}=function(){var e,t,r,s,i,a,l,o;let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=(0,S.useProviderContext)(),u=_(),h=!!u,{as:p,ref:f,src:m,name:x,icon:g,classNames:b,fallback:v,alt:j=x||"avatar",imgRef:y,color:w=null!=(e=null==u?void 0:u.color)?e:"default",radius:k=null!=(t=null==u?void 0:u.radius)?t:"full",size:C=null!=(r=null==u?void 0:u.size)?r:"md",isBordered:T=null!=(s=null==u?void 0:u.isBordered)&&s,isDisabled:D=null!=(i=null==u?void 0:u.isDisabled)&&i,isFocusable:L=!1,getInitials:P=B.safeText,ignoreFallback:E=!1,showFallback:W=!1,ImgComponent:O="img",imgProps:F,className:H,onError:V,disableAnimation:U,...G}=d,K=p||"span",Z=(0,R.useDOMRef)(f),q=(0,R.useDOMRef)(y),{isFocusVisible:$,isFocused:Y,focusProps:J}=(0,A.useFocusRing)(),{isHovered:Q,hoverProps:X}=(0,M.useHover)({isDisabled:D}),ee=null!=(a=null!=U?U:null==c?void 0:c.disableAnimation)&&a,et=null!=(o="object"==typeof O&&(null==(l=null==O?void 0:O.displayName)?void 0:l.includes("HeroUI")))&&o,en="loaded"===function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{onLoad:t,onError:r,ignoreFallback:s,src:i,crossOrigin:a,srcSet:l,sizes:o,loading:d,shouldBypassImageLoad:c=!1}=e,u=n.useSyncExternalStore(()=>()=>{},()=>!0,()=>!1),h=(0,n.useRef)(u?new Image:null),[p,f]=(0,n.useState)("pending");(0,n.useEffect)(()=>{h.current&&(h.current.onload=e=>{m(),f("loaded"),null==t||t(e)},h.current.onerror=e=>{m(),f("failed"),null==r||r(e)})},[h.current]);let m=()=>{h.current&&(h.current.onload=null,h.current.onerror=null,h.current=null)},x=(0,n.useCallback)(()=>{if(!i)return"pending";if(s||c)return"loaded";let e=new Image;return(e.src=i,a&&(e.crossOrigin=a),l&&(e.srcset=l),o&&(e.sizes=o),d&&(e.loading=d),h.current=e,e.complete&&e.naturalWidth)?"loaded":"loading"},[i,a,l,o,t,r,d,c]);return(0,I.useSafeLayoutEffect)(()=>{u&&f(x())},[u,x]),s?"loaded":p}({src:m,onError:V,ignoreFallback:E,shouldBypassImageLoad:void 0!==p||"img"!==O&&!et}),er=!et,es=(!m||!en)&&W,ei=(0,n.useMemo)(()=>{var e;return N({color:w,radius:k,size:C,isBordered:T,isDisabled:D,isInGroup:h,disableAnimation:ee,isInGridGroup:null!=(e=null==u?void 0:u.isGrid)&&e})},[w,k,C,T,D,ee,h,null==u?void 0:u.isGrid]),ea=(0,B.clsx)(null==b?void 0:b.base,H),el=(0,n.useMemo)(()=>L||"button"===p,[L,p]),eo=(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:Z,tabIndex:el?0:-1,"data-hover":(0,B.dataAttr)(Q),"data-focus":(0,B.dataAttr)(Y),"data-focus-visible":(0,B.dataAttr)($),className:ei.base({class:(0,B.clsx)(ea,null==e?void 0:e.className)}),...(0,B.mergeProps)(G,X,el?J:{})}},[el,ei,ea,J,G]),ed=(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ref:q,src:m,"data-loaded":(0,B.dataAttr)(en),className:ei.img({class:null==b?void 0:b.img}),...(0,B.mergeProps)(F,e,(0,z.filterDOMProps)({disableAnimation:ee},{enabled:er}))}},[ei,en,F,ee,m,q,er]);return{Component:K,ImgComponent:O,src:m,alt:j,icon:g,name:x,imgRef:q,slots:ei,classNames:b,fallback:v,isImgLoaded:en,showFallback:es,ignoreFallback:E,getInitials:P,getAvatarProps:eo,getImageProps:ed}}({...e,ref:r}),g=(0,n.useMemo)(()=>!h&&a?null:p?(0,t.jsx)("div",{"aria-label":o,className:c.fallback({class:null==d?void 0:d.fallback}),role:"img",children:p}):u?(0,t.jsx)("span",{"aria-label":o,className:c.name({class:null==d?void 0:d.name}),role:"img",children:f(u)}):(0,t.jsx)("span",{"aria-label":o,className:c.icon({class:null==d?void 0:d.icon}),role:"img",children:l}),[h,a,p,u,d]);return(0,t.jsxs)(s,{...m(),children:[a&&(0,t.jsx)(i,{...x(),alt:o}),g]})});T.displayName="HeroUI.Avatar";var D=e.i(64925),L=e.i(73665);function P(e){let{item:s,index:i,media:a,with_translation:l}=e,[o,c]=(0,n.useState)(""),[h,p]=(0,n.useState)(!1),[f,m]=(0,n.useState)(!1),x=e=>e===s.content()||b(e)===b(s.content());return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start w-full gap-1",children:[(0,t.jsx)(D.Tooltip,{content:"turn green on success: punctuation does not matter",children:(0,t.jsx)(T,{size:"sm",radius:"sm",name:"".concat(s.position),color:h?"success":"default"})}),(0,t.jsx)(D.Tooltip,{content:"shortcut: Ctrl+S, Ctrl+D, or type two spaces at the end",children:(0,t.jsx)(r.Button,{isIconOnly:!0,variant:"light",tabIndex:-1,onPress:()=>{a.paused?s.playMedia(a,!1):a.pause()},children:(0,t.jsx)(L.MdPlayCircle,{size:30})})}),(0,t.jsx)(D.Tooltip,{isOpen:f,placement:"top",className:"bg-slate-300",content:(0,t.jsx)("div",{className:"flex flex-col items-start justify-start text-xl px-4 py-2",children:(0,t.jsx)("div",{children:(e=>{let t=v(e,!0).map(e=>e.content),n=v(s.content(),!1);for(let e=0;e<n.length;e++)n[e].isWord&&!t.includes(n[e].content)&&(n[e].content=g(n[e].content));return n.map(e=>e.content).join("")})(o)})}),children:(0,t.jsx)(d.Input,{"aria-label":"input answer",variant:"bordered",id:"d-s-i-".concat(i),classNames:{input:"text-xl font-bold"},value:o,onChange:e=>{let t=e.target.value;t.endsWith("  ")?a.paused?s.playMedia(a,!1):a.pause():(c(t),!h&&x(t)&&p(!0),h&&!x(t)&&p(!1))},onFocus:()=>{m(!0)},onBlur:()=>{m(!1)},onKeyDown:e=>{e.ctrlKey&&"sS".includes(e.key)&&(a.paused?s.playMedia(a,!1):a.pause(),e.preventDefault()),e.ctrlKey&&"dD".includes(e.key)&&(a.paused?s.playMedia(a,!0):a.pause(),e.preventDefault())}})}),l?(0,t.jsx)(D.Tooltip,{placement:"top-end",className:"bg-slate-300",content:(0,t.jsx)("div",{className:"flex flex-col items-start justify-start text-xl px-4 py-2",children:(0,t.jsx)("pre",{children:s.translation_list.length>0?s.translation().replaceAll(/\d/g,"x"):"no translation"})}),children:(0,t.jsx)(r.Button,{isIconOnly:!0,variant:"light",tabIndex:-1,children:(0,t.jsx)(L.MdHelpOutline,{size:30})})}):null,(0,t.jsx)(D.Tooltip,{placement:"top-end",className:"bg-slate-300",content:(0,t.jsx)("div",{className:"text-xl px-4 py-2",children:s.content()}),children:(0,t.jsx)(r.Button,{isIconOnly:!0,variant:"light",tabIndex:-1,children:(0,t.jsx)(L.MdHelp,{size:30})})}),(0,t.jsx)(D.Tooltip,{color:"primary",content:"add card",children:(0,t.jsx)(r.Button,{isIconOnly:!0,variant:"light",tabIndex:-1,as:u.Link,target:"_blank",href:"/card/add?edit=y&question=".concat(encodeURIComponent(s.content())),children:(0,t.jsx)(L.MdFavorite,{size:20})})})]})}var E=e.i(33401);let W=e=>{let{href:n,children:r}=e;return(0,t.jsx)(u.Link,{href:n,className:"text-blue-600 underline",target:"_blank",children:r})};function O(){let[e,u]=(0,n.useState)(),[h,f]=(0,n.useState)(),[m,g]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),[j,y]=(0,n.useState)(""),[_,w]=(0,n.useState)(""),[k,C]=(0,n.useState)([]),N=(0,n.useRef)(null),S=(0,n.useRef)(null),R=(0,n.useRef)(null),z=(0,n.useRef)(null),B=e=>{w(e);let t=((e,t)=>{let n=(e=>{let t=e.trim().replaceAll("\r\n","\n").replaceAll("\r","\n").split("\n"),n=[],r=[];for(let e of t){if(""===(e=e.trim())){r.length>0&&(n.push(r),r=[]);continue}r.push(e)}return r.length>0&&n.push(r),n})(e),r=[],s=n.map(e=>{let n=new p(e,t);return"error"===n.init_status&&r.push(n.init_error),n}).filter(e=>e.content_list.length>0);if(0===r.length){let e=x(x(x(s)));for(let t=0;t<e.length;t++)e[t].position=t+1,e[t].extend_start_ms=t>0?e[t-1].start_ms:e[t].start_ms,e[t].extend_end_ms=t+1<e.length?e[t+1].end_ms:e[t].end_ms;return{status:"success",data:e}}return{status:"error",error:r.join("\n")}})(e,m);"success"===t.status?t.data.length>0&&(C(t.data),y("")):y(t.error)},A=e=>()=>{let t=1e3*e.currentTime;for(let e=0;e<k.length;e++)if(t<=k[e].end_ms){let t=document.getElementById("d-s-i-".concat(e));null==t||t.scrollIntoView({behavior:"smooth",block:"center"}),null==t||t.focus();break}},I=e=>{e.addEventListener("timeupdate",A(e)),e.addEventListener("seeking",A(e))};return R.current&&I(R.current),z.current&&I(z.current),(0,t.jsxs)("div",{children:[e&&(0,t.jsx)("div",{className:"sticky top-0 p-4 z-50",children:(0,t.jsx)("audio",{className:"w-full",ref:R,controls:!0,src:e})}),h&&(0,t.jsx)("div",{className:"flex flex-row items-end justify-end fixed bottom-0 end-0 p-4 z-50",children:(0,t.jsx)("video",{className:"h-[30vh] w-auto max-w-full",ref:z,controls:!0,src:h})}),(0,t.jsxs)("div",{className:"flex flex-row items-center justify-center gap-4 my-2",children:[(0,t.jsx)(d.Input,{className:"hidden",type:"file",ref:N,onChange:e=>{let t=e.target.files[0];return t.type.startsWith("audio/")?void u(URL.createObjectURL(t)):t.type.startsWith("video/")?void f(URL.createObjectURL(t)):void 0}}),!e&&!h&&(0,t.jsx)(r.Button,{variant:"solid",color:"primary",onPress:()=>{var e;return null==(e=N.current)?void 0:e.click()},children:"select audio/video"}),(0,t.jsx)(d.Input,{className:"hidden",type:"file",ref:S,onChange:async e=>{let t=e.target.files[0],n=(await t.text()).trim().replaceAll("\r\n","\n").replaceAll("\r","\n"),r=[];for(let e of n.split("\n"))if(!(r.length<1)||"1"===e){if(r.length>0&&e.endsWith("`;"))break;r.push(e)}B(r.join("\n"))}}),(!!e||!!h)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.ButtonGroup,{variant:"solid",color:"primary",isDisabled:!e&&!h,children:(0,t.jsxs)(i.Dropdown,{placement:"bottom-end",children:[(0,t.jsx)(a.DropdownTrigger,{children:(0,t.jsxs)(r.Button,{children:["select subtitle ",(0,t.jsx)(E.BiCaretDown,{})]})}),(0,t.jsxs)(l.DropdownMenu,{disallowEmptySelection:!0,className:"max-w-[300px]",selectionMode:"single",onSelectionChange:e=>{var t;"no_translation"===e.currentKey?g(!1):g(!0),null==(t=S.current)||t.click()},children:[(0,t.jsx)(o.DropdownItem,{description:"This subtitle file does not contain translations.",children:"No Translation"},"no_translation"),(0,t.jsx)(o.DropdownItem,{description:"This subtitle file contains translations.",children:"With Translation"},"with_translation")]})]})}),(0,t.jsx)(r.Button,{variant:"solid",color:"primary",isDisabled:!e&&!h,onPress:()=>v(!b),children:"edit subtitle"})]})]}),j.length>0&&(0,t.jsx)("pre",{className:"my-4",children:j}),b&&(0,t.jsx)(c.Textarea,{variant:"bordered",value:_,className:"my-4",onChange:e=>B(e.target.value)}),!e&&!h&&(0,t.jsxs)("div",{className:"text-xl",children:[(0,t.jsx)("p",{children:"1, Practice dictation using videos (or audios) and their corresponding subtitles"}),(0,t.jsx)("p",{children:"2, Subtitle files should be in srt format"}),(0,t.jsx)("p",{children:"3, Example: TED"}),(0,t.jsxs)("div",{className:"ms-8 bg-slate-100",children:[(0,t.jsxs)("p",{children:["1, Download video from ",(0,t.jsx)(W,{href:"https://www.ted.com",children:"www.ted.com"}),': click "Share" to download MP4']}),(0,t.jsx)("p",{children:"2, Subtitles are already included in the video. You can extract them using an ffmpeg command:"}),(0,t.jsx)("p",{className:"ps-8",children:'ffprobe exampe.mp4 2>&1 | grep "Subtitle:"'}),(0,t.jsx)("p",{className:"ps-8",children:"find english subtitle, for example: #0:6[0x7](eng), to extract it:"}),(0,t.jsx)("p",{className:"ps-8",children:"ffmpeg -i exampe.mp4 -map 0:6 exampe.srt"})]}),(0,t.jsx)("p",{children:"4, Example: ARD Mediathek"}),(0,t.jsxs)("div",{className:"ms-8 bg-slate-100",children:[(0,t.jsxs)("p",{children:["1, Download video and subtitle using ",(0,t.jsx)(W,{href:"https://mediathekview.de/download/",children:"MediathekView"})]}),(0,t.jsxs)("p",{children:["2, Process and prepare subtitles ",(0,t.jsx)(W,{href:"/listening/subtitle/prepare",children:"here"})]})]}),(0,t.jsx)("p",{children:"5, Example: logo"}),(0,t.jsxs)("div",{className:"ms-8 bg-slate-100",children:[(0,t.jsx)("p",{children:"1, Download video/audio and html file from logo会员群"}),(0,t.jsx)("p",{children:"2, Use html file directly as subtitle file"})]})]}),(!!e||!!h)&&0===k.length&&(0,t.jsxs)("div",{className:"text-xl",children:[(0,t.jsx)("p",{children:"1, 如果是 logo 的用于听写的 html 文件，直接上传即可（选 With Translation）"}),(0,t.jsx)("p",{children:"2, 如果是其他字幕，文件应当是 srt 格式"}),(0,t.jsx)("p",{children:"3, 根据字幕中是否含有译文，点击不同的选项，同时应符合以下要求"}),(0,t.jsx)("p",{className:"ps-8",children:"a, 如果不包含译文，则每条字幕中原文可以有多行"}),(0,t.jsx)("p",{className:"ps-8",children:"b, 如果包含译文，则每条字幕中原文只能占一行，但译文可以有多行"}),(0,t.jsx)("p",{className:"ps-8",children:"c, 如果包含译文，原文在上，译文在下，且只能有一种译文"}),(0,t.jsx)("p",{className:"ps-8",children:"d, 原文和译文都要去掉格式信息，只保留文本"}),(0,t.jsx)("p",{children:"4, 如下字幕格式，包含原文和译文："}),(0,t.jsx)("pre",{className:"ps-8 bg-slate-100",children:"45\n00:02:32,560 --> 00:02:34,240\nWie bitte?\n你说什么？"}),(0,t.jsx)("p",{children:"5, 如下字幕格式，因为原文占用了 2 行，因此不再支持译文："}),(0,t.jsx)("pre",{className:"ps-8 bg-slate-100",children:"45\n00:02:32,560 --> 00:02:34,240\nWie \nbitte?"}),(0,t.jsxs)("p",{children:["6, 如下字幕格式是",(0,t.jsx)("b",{children:"不正确"}),"的，因为原文除了文本，还有字体、颜色等格式信息："]}),(0,t.jsx)("pre",{className:"ps-8 bg-slate-100",children:'45\n00:02:32,560 --> 00:02:34,240\n<font color="#ffffff">Wie bitte?</font>'})]}),(0,t.jsx)("div",{className:"flex flex-col items-center justify-start w-full gap-2 my-8",children:k.map((n,r)=>(0,t.jsx)(P,{item:n,index:r,with_translation:m,media:e?R.current:z.current},r))})]})}}]);