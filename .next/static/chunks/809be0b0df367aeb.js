(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99749,e=>{"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.s(["_",()=>t])},77148,e=>{"use strict";e.s(["Textarea",()=>O],77148);var t=e.i(34738),r=e.i(75540),n=e.i(73830),i=e.i(71645);function a(){return(a=Object.assign.bind()).apply(null,arguments)}var o=i.useLayoutEffect,l=function(e){var t=i.default.useRef(e);return o(function(){t.current=e}),t},s=function(e,t){if("function"==typeof e)return void e(t);e.current=t},u=function(e,t){var r=i.default.useRef();return i.default.useCallback(function(n){e.current=n,r.current&&s(r.current,null),r.current=t,t&&s(t,n)},[t])},c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},f=function(e){Object.keys(c).forEach(function(t){e.style.setProperty(t,c[t],"important")})},d=null,p=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize},h=function(){},y=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],v=!!document.documentElement.currentStyle,_=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r=y.reduce(function(e,r){return e[r]=t[r],e},{}),n=r.boxSizing;if(""===n)return null;v&&"border-box"===n&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),a=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:a}};function g(e,t,r){var n=l(r);i.useLayoutEffect(function(){var r=function(e){return n.current(e)};if(e)return e.addEventListener(t,r),function(){return e.removeEventListener(t,r)}},[])}var b=function(e,t){g(document.body,"reset",function(r){e.current.form===r.target&&t(r)})},m=function(e){g(window,"resize",e)},x=function(e){g(document.fonts,"loadingdone",e)},w=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],S=i.forwardRef(function(e,t){var r=e.cacheMeasurements,n=e.maxRows,o=e.minRows,l=e.onChange,s=void 0===l?h:l,c=e.onHeightChange,y=void 0===c?h:c,v=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,w),g=void 0!==v.value,S=i.useRef(null),j=u(S,t),z=i.useRef(0),P=i.useRef(),O=function(){var e=S.current,t=r&&P.current?P.current:_(e);if(t){P.current=t;var i,a,l,s,u,c,h,v,g,b,m,x=(i=e.value||e.placeholder||"x",void 0===(a=o)&&(a=1),void 0===(l=n)&&(l=1/0),d||((d=document.createElement("textarea")).setAttribute("tabindex","-1"),d.setAttribute("aria-hidden","true"),f(d)),null===d.parentNode&&document.body.appendChild(d),s=t.paddingSize,u=t.borderSize,h=(c=t.sizingStyle).boxSizing,Object.keys(c).forEach(function(e){d.style[e]=c[e]}),f(d),d.value=i,v=p(d,t),d.value=i,v=p(d,t),d.value="x",b=(g=d.scrollHeight-s)*a,"border-box"===h&&(b=b+s+u),v=Math.max(b,v),m=g*l,"border-box"===h&&(m=m+s+u),[v=Math.min(m,v),g]),w=x[0],j=x[1];z.current!==w&&(z.current=w,e.style.setProperty("height",w+"px","important"),y(w,{rowHeight:j}))}};return i.useLayoutEffect(O),b(S,function(){if(!g){var e=S.current.value;requestAnimationFrame(function(){var t=S.current;t&&e!==t.value&&O()})}}),m(O),x(O),i.createElement("textarea",a({},v,{onChange:function(e){g||O(),s(e)},ref:j}))}),j=e.i(19110),z=e.i(43476),P=(0,n.forwardRef)((e,n)=>{let{style:a,minRows:o=3,maxRows:l=8,cacheMeasurements:s=!1,disableAutosize:u=!1,onHeightChange:c,...f}=e,{Component:d,label:p,description:h,startContent:y,endContent:v,hasHelper:_,shouldLabelBeOutside:g,shouldLabelBeInside:b,isInvalid:m,errorMessage:x,getBaseProps:w,getLabelProps:P,getInputProps:O,getInnerWrapperProps:R,getInputWrapperProps:A,getHelperWrapperProps:F,getDescriptionProps:C,getErrorMessageProps:E,isClearable:M,getClearButtonProps:N}=(0,t.useInput)({...f,ref:n,isMultiline:!0}),[T,k]=(0,i.useState)(o>1),[L,D]=(0,i.useState)(!1),W=p?(0,z.jsx)("label",{...P(),children:p}):null,H=O(),B=u?(0,z.jsx)("textarea",{...H,style:(0,r.mergeProps)(H.style,null!=a?a:{})}):(0,z.jsx)(S,{...H,cacheMeasurements:s,"data-hide-scroll":(0,r.dataAttr)(!L),maxRows:l,minRows:o,style:(0,r.mergeProps)(H.style,null!=a?a:{}),onHeightChange:(e,t)=>{1===o&&k(e>=2*t.rowHeight),l>o&&D(e>=l*t.rowHeight),null==c||c(e,t)}}),I=(0,i.useMemo)(()=>M?(0,z.jsx)("button",{...N(),children:(0,z.jsx)(j.CloseFilledIcon,{})}):null,[M,N]),K=(0,i.useMemo)(()=>y||v?(0,z.jsxs)("div",{...R(),children:[y,B,v]}):(0,z.jsx)("div",{...R(),children:B}),[y,H,v,R]),U=m&&x,q=U||h;return(0,z.jsxs)(d,{...w(),children:[g?W:null,(0,z.jsxs)("div",{...A(),"data-has-multiple-rows":(0,r.dataAttr)(T),children:[b?W:null,K,I]}),_&&q?(0,z.jsx)("div",{...F(),children:U?(0,z.jsx)("div",{...E(),children:x}):(0,z.jsx)("div",{...C(),children:h})}):null]})});P.displayName="HeroUI.Textarea";var O=P},17648,e=>{"use strict";e.s(["highlightDifferences",()=>i]);var t=e.i(43476);function r(e){return(e=e.replace(/\s+/g," ").trim())?e.split(/(\s+|[.,!?;:\-—()"'“”„«»…])/).filter(e=>null!=e&&""!==e).filter(e=>e.trim().length>0||" "===e):[]}function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}let i=(e,i)=>{let a=r(e),o=r(i),{matchesB:l}=function(e,t){let r=e.length,n=t.length,i=Array.from({length:r+1},()=>Array(n+1).fill(0));for(let a=r-1;a>=0;a--)for(let r=n-1;r>=0;r--)e[a]===t[r]?i[a][r]=1+i[a+1][r+1]:i[a][r]=Math.max(i[a+1][r],i[a][r+1]);let a=0,o=0,l=[];for(;a<r&&o<n;)e[a]===t[o]?(l.push(o),a++,o++):i[a+1][o]>=i[a][o+1]?a++:o++;return{matchesB:l}}(a,o),s=new Set(l);return o.map((e,r)=>s.has(r)?(0,t.jsx)("span",{children:n(e)},r):(0,t.jsx)("span",{style:{background:"#ffeb3b"},children:n(e)},r))}},49980,e=>{"use strict";e.s(["useImmer",()=>I],49980),e.i(47167);var t,r=Symbol.for("immer-nothing"),n=Symbol.for("immer-draftable"),i=Symbol.for("immer-state");function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var o=Object.getPrototypeOf;function l(e){return!!e&&!!e[i]}function s(e){var t;return!!e&&(c(e)||Array.isArray(e)||!!e[n]||!!(null==(t=e.constructor)?void 0:t[n])||y(e)||v(e))}var u=Object.prototype.constructor.toString();function c(e){if(!e||"object"!=typeof e)return!1;let t=o(e);if(null===t)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===u}function f(e,t){0===d(e)?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function d(e){let t=e[i];return t?t.type_:Array.isArray(e)?1:y(e)?2:3*!!v(e)}function p(e,t){return 2===d(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function h(e,t,r){let n=d(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function y(e){return e instanceof Map}function v(e){return e instanceof Set}function _(e){return e.copy_||e.base_}function g(e,t){if(y(e))return new Map(e);if(v(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);let r=c(e);if(!0!==t&&("class_only"!==t||r)){let t=o(e);return null!==t&&r?{...e}:Object.assign(Object.create(t),e)}{let t=Object.getOwnPropertyDescriptors(e);delete t[i];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){let i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(o(e),t)}}function b(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return x(e)||l(e)||!s(e)||(d(e)>1&&Object.defineProperties(e,{set:{value:m},add:{value:m},clear:{value:m},delete:{value:m}}),Object.freeze(e),t&&Object.values(e).forEach(e=>b(e,!0))),e}function m(){a(2)}function x(e){return Object.isFrozen(e)}var w={};function S(e){let t=w[e];return t||a(0,e),t}function j(e,t){t&&(S("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function z(e){P(e),e.drafts_.forEach(R),e.drafts_=null}function P(e){e===t&&(t=e.parent_)}function O(e){return t={drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function R(e){let t=e[i];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function A(e,t){t.unfinalizedDrafts_=t.drafts_.length;let n=t.drafts_[0];return void 0!==e&&e!==n?(n[i].modified_&&(z(t),a(4)),s(e)&&(e=F(t,e),t.parent_||E(t,e)),t.patches_&&S("Patches").generateReplacementPatches_(n[i].base_,e,t.patches_,t.inversePatches_)):e=F(t,n,[]),z(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r?e:void 0}function F(e,t,r){if(x(t))return t;let n=t[i];if(!n)return f(t,(i,a)=>C(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return E(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let t=n.copy_,i=t,a=!1;3===n.type_&&(i=new Set(t),t.clear(),a=!0),f(i,(i,o)=>C(e,n,t,i,o,r,a)),E(e,t,!1),r&&e.patches_&&S("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function C(e,t,r,n,i,a,o){if(l(i)){let o=F(e,i,a&&t&&3!==t.type_&&!p(t.assigned_,n)?a.concat(n):void 0);if(h(r,n,o),!l(o))return;e.canAutoFreeze_=!1}else o&&r.add(i);if(s(i)&&!x(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;F(e,i),(!t||!t.scope_.parent_)&&"symbol"!=typeof n&&(y(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&E(e,i)}}function E(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&b(t,r)}var M={get(e,t){if(t===i)return e;let r=_(e);if(!p(r,t)){var n,a=e,o=r,l=t;let i=k(o,l);return i?"value"in i?i.value:null==(n=i.get)?void 0:n.call(a.draft_):void 0}let u=r[t];return e.finalized_||!s(u)?u:u===T(e.base_,t)?(D(e),e.copy_[t]=W(u,e)):u},has:(e,t)=>t in _(e),ownKeys:e=>Reflect.ownKeys(_(e)),set(e,t,r){let n=k(_(e),t);if(null==n?void 0:n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=T(_(e),t),a=null==n?void 0:n[i];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||p(e.base_,t)))return!0;D(e),L(e)}return!!(e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t]))||(e.copy_[t]=r,e.assigned_[t]=!0,!0)},deleteProperty:(e,t)=>(void 0!==T(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,D(e),L(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=_(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){a(11)},getPrototypeOf:e=>o(e.base_),setPrototypeOf(){a(12)}},N={};function T(e,t){let r=e[i];return(r?_(r):e)[t]}function k(e,t){if(!(t in e))return;let r=o(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=o(r)}}function L(e){!e.modified_&&(e.modified_=!0,e.parent_&&L(e.parent_))}function D(e){e.copy_||(e.copy_=g(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function W(e,r){let n=y(e)?S("MapSet").proxyMap_(e,r):v(e)?S("MapSet").proxySet_(e,r):function(e,r){let n=Array.isArray(e),i={type_:+!!n,scope_:r?r.scope_:t,modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},a=i,o=M;n&&(a=[i],o=N);let{revoke:l,proxy:s}=Proxy.revocable(a,o);return i.draft_=s,i.revoke_=l,s}(e,r);return(r?r.scope_:t).drafts_.push(n),n}f(M,(e,t)=>{N[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),N.deleteProperty=function(e,t){return N.set.call(this,e,t,void 0)},N.set=function(e,t,r){return M.set.call(this,e[0],t,r,e[0])};var H=new class{createDraft(e){var t;s(e)||a(8),l(e)&&(l(t=e)||a(10,t),e=function e(t){let r;if(!s(t)||x(t))return t;let n=t[i];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=g(t,n.scope_.immer_.useStrictShallowCopy_)}else r=g(t,!0);return f(r,(t,n)=>{h(r,t,e(n))}),n&&(n.finalized_=!1),r}(t));let r=O(this),n=W(e,void 0);return n[i].isManual_=!0,P(r),n}finishDraft(e,t){let r=e&&e[i];r&&r.isManual_||a(9);let{scope_:n}=r;return j(n,t),A(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=S("Patches").applyPatches_;return l(e)?n(e,t):this.produce(e,e=>n(e,t))}constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{let i;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var i=arguments.length,a=Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return n.produce(e,e=>t.call(this,e,...a))}}if("function"!=typeof t&&a(6),void 0!==n&&"function"!=typeof n&&a(7),s(e)){let r=O(this),a=W(e,void 0),o=!0;try{i=t(a),o=!1}finally{o?z(r):P(r)}return j(r,n),A(i,r)}if(e&&"object"==typeof e)a(1,e);else{if(void 0===(i=t(e))&&(i=e),i===r&&(i=void 0),this.autoFreeze_&&b(i,!0),n){let t=[],r=[];S("Patches").generateReplacementPatches_(e,i,t,r),n(t,r)}return i}},this.produceWithPatches=(e,t)=>{let r,n;if("function"==typeof e){var i=this;return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return i.produceWithPatches(t,t=>e(t,...n))}}return[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}}().produce,B=e.i(71645);function I(e){var t=(0,B.useState)(function(){return b("function"==typeof e?e():e,!0)}),r=t[1];return[t[0],(0,B.useCallback)(function(e){r("function"==typeof e?H(e):b(e))},[])]}},87809,e=>{"use strict";e.s(["saveText",()=>r]);var t=e.i(95187),r=(0,t.createServerReference)("4008d87f532e6bcd1af7a522a998d662e33b622498",t.callServer,void 0,t.findSourceMapURL,"saveText")},26654,e=>{"use strict";e.s(["default",()=>h],26654);var t=e.i(43476),r=e.i(75157),n=e.i(35889),i=e.i(12041),a=e.i(77148),o=e.i(71645),l=e.i(70319),s=e.i(95187),u=(0,s.createServerReference)("40d3bef57bc4f6b077e55efc9cd85c8909a399ac23",s.callServer,void 0,s.findSourceMapURL,"getAudioAll"),c=(0,s.createServerReference)("405a47b284a63909dcee76d0416834530e6438fdb2",s.callServer,void 0,s.findSourceMapURL,"getText"),f=e.i(87809),d=e.i(49980),p=e.i(17648);function h(e){let{uuid:s,email:h}=e,[y,v]=(0,o.useState)(),[_,g]=(0,o.useState)(!1),[b,m]=(0,d.useImmer)([]),[x,w]=(0,o.useState)(!1),[S,j]=(0,o.useState)(!1),z=async e=>{w(!0);let t=await c(e);"success"===t.status&&v(t.data);let n=await u(e);if("success"===n.status){let e=n.data.map((e,t)=>({...(0,r.toExactType)(e),in_db:!0,on_fs:!0,modified_db:!1,modified_fs:!1}));m(t=>{for(let r of(t.length=0,e))t.push(r)})}w(!1)},P=async()=>{if(j(!0),y){if("error"===(await (0,f.saveText)({...y,updated_at:new Date})).status){l.toast.error("save text failed"),j(!1);return}l.toast.success("saved successfully!"),j(!1)}};return(0,o.useEffect)(()=>{z(s);let e=e=>{if(e.ctrlKey&&"s"===e.key){e.preventDefault();let t=document.getElementById("button-add-save");null==t||t.click()}};return document.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[]),(0,t.jsxs)("div",{className:"w-full space-y-4 mb-10",children:[x&&(0,t.jsx)("div",{className:"flex flex-row w-full items-center justify-center gap-4 my-4",children:(0,t.jsx)(i.Spinner,{classNames:{label:"text-foreground mt-4"},variant:"simple"})}),!!y&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center w-full gap-2 my-4",children:[(0,t.jsx)("div",{className:"flex flex-col w-full p-2 rounded-lg bg-sand-300",children:(0,t.jsx)(a.Textarea,{size:"lg",className:"w-full",label:"original text",classNames:{inputWrapper:"bg-sand-200",input:"text-xl"},defaultValue:y.text,onChange:e=>{v({...y,text:e.target.value}),g(!0)}})}),!!h&&(0,t.jsx)(n.Button,{variant:"solid",color:"primary",isDisabled:!_||S,onPress:P,children:"Save"})]}),b.length>0&&(0,t.jsx)("div",{className:"flex flex-col w-full gap-4 my-4",children:b.map((e,r)=>(0,t.jsx)("div",{className:"flex flex-col items-start justify-start w-full rounded-lg bg-sand-300",children:(0,t.jsx)("div",{className:"flex flex-row items-start justify-start w-full my-2",children:(0,t.jsx)("div",{className:"text-xl text-balance hyphens-auto",children:(0,p.highlightDifferences)((null==y?void 0:y.text)||"",e.recognized)})})},"".concat(r,"-").concat(e.uuid)))})]})}}]);