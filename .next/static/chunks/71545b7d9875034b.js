(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99749,e=>{"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.s(["_",()=>t])},77148,e=>{"use strict";e.s(["Textarea",()=>F],77148);var t=e.i(34738),r=e.i(75540),n=e.i(73830),i=e.i(71645);function a(){return(a=Object.assign.bind()).apply(null,arguments)}var o=i.useLayoutEffect,u=function(e){var t=i.default.useRef(e);return o(function(){t.current=e}),t},d=function(e,t){if("function"==typeof e)return void e(t);e.current=t},l=function(e,t){var r=i.default.useRef();return i.default.useCallback(function(n){e.current=n,r.current&&d(r.current,null),r.current=t,t&&d(t,n)},[t])},s={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},c=function(e){Object.keys(s).forEach(function(t){e.style.setProperty(t,s[t],"important")})},f=null,h=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize},g=function(){},p=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],v=!!document.documentElement.currentStyle,m=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r=p.reduce(function(e,r){return e[r]=t[r],e},{}),n=r.boxSizing;if(""===n)return null;v&&"border-box"===n&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),a=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:a}};function b(e,t,r){var n=u(r);i.useLayoutEffect(function(){var r=function(e){return n.current(e)};if(e)return e.addEventListener(t,r),function(){return e.removeEventListener(t,r)}},[])}var x=function(e,t){b(document.body,"reset",function(r){e.current.form===r.target&&t(r)})},y=function(e){b(window,"resize",e)},S=function(e){b(document.fonts,"loadingdone",e)},w=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],j=i.forwardRef(function(e,t){var r=e.cacheMeasurements,n=e.maxRows,o=e.minRows,u=e.onChange,d=void 0===u?g:u,s=e.onHeightChange,p=void 0===s?g:s,v=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,w),b=void 0!==v.value,j=i.useRef(null),R=l(j,t),z=i.useRef(0),C=i.useRef(),F=function(){var e=j.current,t=r&&C.current?C.current:m(e);if(t){C.current=t;var i,a,u,d,l,s,g,v,b,x,y,S=(i=e.value||e.placeholder||"x",void 0===(a=o)&&(a=1),void 0===(u=n)&&(u=1/0),f||((f=document.createElement("textarea")).setAttribute("tabindex","-1"),f.setAttribute("aria-hidden","true"),c(f)),null===f.parentNode&&document.body.appendChild(f),d=t.paddingSize,l=t.borderSize,g=(s=t.sizingStyle).boxSizing,Object.keys(s).forEach(function(e){f.style[e]=s[e]}),c(f),f.value=i,v=h(f,t),f.value=i,v=h(f,t),f.value="x",x=(b=f.scrollHeight-d)*a,"border-box"===g&&(x=x+d+l),v=Math.max(x,v),y=b*u,"border-box"===g&&(y=y+d+l),[v=Math.min(y,v),b]),w=S[0],R=S[1];z.current!==w&&(z.current=w,e.style.setProperty("height",w+"px","important"),p(w,{rowHeight:R}))}};return i.useLayoutEffect(F),x(j,function(){if(!b){var e=j.current.value;requestAnimationFrame(function(){var t=j.current;t&&e!==t.value&&F()})}}),y(F),S(F),i.createElement("textarea",a({},v,{onChange:function(e){b||F(),d(e)},ref:R}))}),R=e.i(19110),z=e.i(43476),C=(0,n.forwardRef)((e,n)=>{let{style:a,minRows:o=3,maxRows:u=8,cacheMeasurements:d=!1,disableAutosize:l=!1,onHeightChange:s,...c}=e,{Component:f,label:h,description:g,startContent:p,endContent:v,hasHelper:m,shouldLabelBeOutside:b,shouldLabelBeInside:x,isInvalid:y,errorMessage:S,getBaseProps:w,getLabelProps:C,getInputProps:F,getInnerWrapperProps:T,getInputWrapperProps:B,getHelperWrapperProps:L,getDescriptionProps:E,getErrorMessageProps:H,isClearable:P,getClearButtonProps:W}=(0,t.useInput)({...c,ref:n,isMultiline:!0}),[k,M]=(0,i.useState)(o>1),[O,A]=(0,i.useState)(!1),U=h?(0,z.jsx)("label",{...C(),children:h}):null,_=F(),I=l?(0,z.jsx)("textarea",{..._,style:(0,r.mergeProps)(_.style,null!=a?a:{})}):(0,z.jsx)(j,{..._,cacheMeasurements:d,"data-hide-scroll":(0,r.dataAttr)(!O),maxRows:u,minRows:o,style:(0,r.mergeProps)(_.style,null!=a?a:{}),onHeightChange:(e,t)=>{1===o&&M(e>=2*t.rowHeight),u>o&&A(e>=u*t.rowHeight),null==s||s(e,t)}}),N=(0,i.useMemo)(()=>P?(0,z.jsx)("button",{...W(),children:(0,z.jsx)(R.CloseFilledIcon,{})}):null,[P,W]),D=(0,i.useMemo)(()=>p||v?(0,z.jsxs)("div",{...T(),children:[p,I,v]}):(0,z.jsx)("div",{...T(),children:I}),[p,_,v,T]),K=y&&S,q=K||g;return(0,z.jsxs)(f,{...w(),children:[b?U:null,(0,z.jsxs)("div",{...B(),"data-has-multiple-rows":(0,r.dataAttr)(k),children:[x?U:null,D,N]}),m&&q?(0,z.jsx)("div",{...L(),children:K?(0,z.jsx)("div",{...H(),children:S}):(0,z.jsx)("div",{...E(),children:g})}):null]})});C.displayName="HeroUI.Textarea";var F=C},75802,e=>{"use strict";e.s(["saveBook",()=>r]);var t=e.i(95187),r=(0,t.createServerReference)("403dfd7e1c571e865d0c001009105d0efffbfcfffe",t.callServer,void 0,t.findSourceMapURL,"saveBook")},3001,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(43476),r=e.i(75157),n=e.i(35889),i=e.i(77148),a=e.i(71645),o=e.i(18566),u=e.i(53145),d=e.i(70319),l=e.i(75802);function s(e){let{item:s,email:c}=e,f=(0,o.useSearchParams)(),[h,g]=(0,a.useState)(!1),{register:p,handleSubmit:v,formState:m}=(0,u.useForm)({}),b=async e=>{"success"===(await (0,l.saveBook)({...e,uuid:(null==s?void 0:s.uuid)?s.uuid:(0,r.getUUID)(),user_id:c,created_by:c,created_at:(null==s?void 0:s.created_at)?s.created_at:new Date,updated_at:new Date})).status?(g(!0),d.toast.success("save card success")):d.toast.error("save card failed")};return(0,t.jsx)("form",{onSubmit:v(b),children:(0,t.jsxs)("div",{className:"w-full space-y-4 mb-10",children:[(0,t.jsx)("div",{className:"flex flex-row my-1 items-end justify-end gap-4",children:(0,t.jsx)(n.Button,{isLoading:m.isSubmitting,color:"primary",type:"submit",variant:"solid",isDisabled:h,children:"Save"})}),(0,t.jsx)(i.Textarea,{label:"tag",classNames:{input:"text-xl leading-tight font-roboto"},defaultValue:(e=>{if(s){let t=(0,r.getProperty)(s,e);if(t)return t}let t=f.get(e);if(t)return decodeURIComponent(t)})("name"),...p("name")})]})})}}]);