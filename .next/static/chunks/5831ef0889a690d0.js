(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99749,e=>{"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.s(["_",()=>t])},77148,e=>{"use strict";e.s(["Textarea",()=>C],77148);var t=e.i(34738),r=e.i(75540),a=e.i(73830),i=e.i(71645);function n(){return(n=Object.assign.bind()).apply(null,arguments)}var s=i.useLayoutEffect,l=function(e){var t=i.default.useRef(e);return s(function(){t.current=e}),t},o=function(e,t){if("function"==typeof e)return void e(t);e.current=t},u=function(e,t){var r=i.default.useRef();return i.default.useCallback(function(a){e.current=a,r.current&&o(r.current,null),r.current=t,t&&o(t,a)},[t])},d={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},c=function(e){Object.keys(d).forEach(function(t){e.style.setProperty(t,d[t],"important")})},f=null,g=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize},p=function(){},h=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],v=!!document.documentElement.currentStyle,x=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r=h.reduce(function(e,r){return e[r]=t[r],e},{}),a=r.boxSizing;if(""===a)return null;v&&"border-box"===a&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),n=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:n}};function m(e,t,r){var a=l(r);i.useLayoutEffect(function(){var r=function(e){return a.current(e)};if(e)return e.addEventListener(t,r),function(){return e.removeEventListener(t,r)}},[])}var b=function(e,t){m(document.body,"reset",function(r){e.current.form===r.target&&t(r)})},y=function(e){m(window,"resize",e)},w=function(e){m(document.fonts,"loadingdone",e)},S=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],j=i.forwardRef(function(e,t){var r=e.cacheMeasurements,a=e.maxRows,s=e.minRows,l=e.onChange,o=void 0===l?p:l,d=e.onHeightChange,h=void 0===d?p:d,v=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,S),m=void 0!==v.value,j=i.useRef(null),z=u(j,t),R=i.useRef(0),T=i.useRef(),C=function(){var e=j.current,t=r&&T.current?T.current:x(e);if(t){T.current=t;var i,n,l,o,u,d,p,v,m,b,y,w=(i=e.value||e.placeholder||"x",void 0===(n=s)&&(n=1),void 0===(l=a)&&(l=1/0),f||((f=document.createElement("textarea")).setAttribute("tabindex","-1"),f.setAttribute("aria-hidden","true"),c(f)),null===f.parentNode&&document.body.appendChild(f),o=t.paddingSize,u=t.borderSize,p=(d=t.sizingStyle).boxSizing,Object.keys(d).forEach(function(e){f.style[e]=d[e]}),c(f),f.value=i,v=g(f,t),f.value=i,v=g(f,t),f.value="x",b=(m=f.scrollHeight-o)*n,"border-box"===p&&(b=b+o+u),v=Math.max(b,v),y=m*l,"border-box"===p&&(y=y+o+u),[v=Math.min(y,v),m]),S=w[0],z=w[1];R.current!==S&&(R.current=S,e.style.setProperty("height",S+"px","important"),h(S,{rowHeight:z}))}};return i.useLayoutEffect(C),b(j,function(){if(!m){var e=j.current.value;requestAnimationFrame(function(){var t=j.current;t&&e!==t.value&&C()})}}),y(C),w(C),i.createElement("textarea",n({},v,{onChange:function(e){m||C(),o(e)},ref:z}))}),z=e.i(19110),R=e.i(43476),T=(0,a.forwardRef)((e,a)=>{let{style:n,minRows:s=3,maxRows:l=8,cacheMeasurements:o=!1,disableAutosize:u=!1,onHeightChange:d,...c}=e,{Component:f,label:g,description:p,startContent:h,endContent:v,hasHelper:x,shouldLabelBeOutside:m,shouldLabelBeInside:b,isInvalid:y,errorMessage:w,getBaseProps:S,getLabelProps:T,getInputProps:C,getInnerWrapperProps:N,getInputWrapperProps:E,getHelperWrapperProps:F,getDescriptionProps:L,getErrorMessageProps:P,isClearable:A,getClearButtonProps:B}=(0,t.useInput)({...c,ref:a,isMultiline:!0}),[U,D]=(0,i.useState)(s>1),[H,M]=(0,i.useState)(!1),W=g?(0,R.jsx)("label",{...T(),children:g}):null,I=C(),O=u?(0,R.jsx)("textarea",{...I,style:(0,r.mergeProps)(I.style,null!=n?n:{})}):(0,R.jsx)(j,{...I,cacheMeasurements:o,"data-hide-scroll":(0,r.dataAttr)(!H),maxRows:l,minRows:s,style:(0,r.mergeProps)(I.style,null!=n?n:{}),onHeightChange:(e,t)=>{1===s&&D(e>=2*t.rowHeight),l>s&&M(e>=l*t.rowHeight),null==d||d(e,t)}}),_=(0,i.useMemo)(()=>A?(0,R.jsx)("button",{...B(),children:(0,R.jsx)(z.CloseFilledIcon,{})}):null,[A,B]),k=(0,i.useMemo)(()=>h||v?(0,R.jsxs)("div",{...N(),children:[h,O,v]}):(0,R.jsx)("div",{...N(),children:O}),[h,I,v,N]),V=y&&w,K=V||p;return(0,R.jsxs)(f,{...S(),children:[m?W:null,(0,R.jsxs)("div",{...E(),"data-has-multiple-rows":(0,r.dataAttr)(U),children:[b?W:null,k,_]}),x&&K?(0,R.jsx)("div",{...F(),children:V?(0,R.jsx)("div",{...P(),children:w}):(0,R.jsx)("div",{...L(),children:p})}):null]})});T.displayName="HeroUI.Textarea";var C=T},3464,e=>{"use strict";e.s(["getTagAll",()=>r]);var t=e.i(95187),r=(0,t.createServerReference)("40ec61f47b0363519b66834cc2fc83eef52f718535",t.callServer,void 0,t.findSourceMapURL,"getTagAll")},43850,e=>{"use strict";e.s(["default",()=>g],43850);var t=e.i(43476),r=e.i(35889),a=e.i(212),i=e.i(77148),n=e.i(71645),s=e.i(3464),l=e.i(95187),o=(0,l.createServerReference)("408454eae163794ac8bd3c2415f38c0b51b506a94c",l.callServer,void 0,l.findSourceMapURL,"removeTag"),u=(0,l.createServerReference)("40114fe6197b58617beba15d5103c621b4e1be9463",l.callServer,void 0,l.findSourceMapURL,"saveTag"),d=e.i(75157),c=e.i(70319);function f(e){let{item:s,handleUpdate:l,handleDelete:o}=e,[u,d]=(0,n.useState)(s),[c,f]=(0,n.useState)(!1);return(0,t.jsxs)("div",{className:"flex flex-col w-full items-start bg-sand-300 rounded-md p-2",children:[(0,t.jsxs)("div",{className:"flex flex-row w-full items-center justify-start gap-4",children:[c?(0,t.jsx)(a.Input,{label:"name",size:"lg",className:"w-full",defaultValue:u.tag,onChange:e=>d({...u,tag:e.target.value})}):(0,t.jsx)("div",{className:"text-2xl w-full",children:u.tag}),(0,t.jsx)(r.Button,{variant:"solid",size:"sm",color:"primary",isDisabled:"public"===u.user_id,onPress:()=>f(!c),children:c?"View":"Edit"}),c&&(0,t.jsx)(r.Button,{variant:"solid",size:"sm",color:"primary",onPress:async()=>{await l(u)},children:"Save"}),(0,t.jsx)(r.Button,{variant:"solid",size:"sm",color:"danger",isDisabled:"public"===u.user_id,onPress:async()=>{await o(u.uuid)},children:"Delete"})]}),c?(0,t.jsx)(i.Textarea,{label:"description",size:"lg",className:"w-full",classNames:{inputWrapper:"bg-sand-200",input:"text-xl"},defaultValue:u.description,onChange:e=>d({...u,description:e.target.value})}):(0,t.jsx)("div",{className:"text-lg",children:u.description}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["UUID: ",u.uuid]})]})}function g(e){let{user_id:l}=e,[g,p]=(0,n.useState)([]),[h,v]=(0,n.useState)(1),[x,m]=(0,n.useState)({}),[b,y]=(0,n.useState)(!1),w=async()=>{if(!x.tag)return void alert("tag name is empty");y(!0),"success"===(await u({uuid:(0,d.getUUID)(),tag:x.tag,description:x.description||"",user_id:l,created_at:new Date,updated_at:new Date})).status?(m({}),c.toast.success("add tag success"),v(e=>e+1)):c.toast.error("add tag failed"),y(!1)},S=async e=>{y(!0),"success"===(await u({...e,updated_at:new Date})).status?(c.toast.success("save tag success"),v(e=>e+1)):c.toast.error("save tag failed"),y(!1)},j=async e=>{y(!0),"success"===(await o(e)).status?(c.toast.success("delete tag success"),v(e=>e+1)):c.toast.error("delete tag failed"),y(!1)};return(0,n.useEffect)(()=>{(async()=>{let e=await (0,s.getTagAll)(l);"success"===e.status?p(e.data):(console.log(e.error),c.toast.error("load data error"))})()},[l,h]),(0,t.jsxs)("div",{className:"flex flex-col w-full gap-4 py-4",children:[(0,t.jsxs)("div",{className:"flex flex-col w-full gap-2 my-4 p-2 rounded-lg bg-sand-300",children:[(0,t.jsxs)("div",{className:"flex flex-row w-full items-center justify-start gap-4",children:[(0,t.jsx)(a.Input,{label:"name",size:"lg",className:"w-full",onChange:e=>m({...x,tag:e.target.value})}),(0,t.jsx)(r.Button,{variant:"solid",size:"lg",color:"primary",isDisabled:b,onPress:w,children:"Add"})]}),(0,t.jsx)(i.Textarea,{label:"description",size:"lg",className:"w-full",placeholder:"description",onChange:e=>m({...x,description:e.target.value})})]}),g.map(e=>(0,t.jsx)(f,{item:e,handleUpdate:S,handleDelete:j},e.uuid))]})}}]);