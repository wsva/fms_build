(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,299749,e=>{"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.s(["_",()=>t])},377148,e=>{"use strict";e.s(["Textarea",()=>L],377148);var t=e.i(834738),r=e.i(75540),n=e.i(273830),a=e.i(271645);function i(){return(i=Object.assign.bind()).apply(null,arguments)}var o=a.useLayoutEffect,l=function(e){var t=a.default.useRef(e);return o(function(){t.current=e}),t},s=function(e,t){if("function"==typeof e)return void e(t);e.current=t},d=function(e,t){var r=a.default.useRef();return a.default.useCallback(function(n){e.current=n,r.current&&s(r.current,null),r.current=t,t&&s(t,n)},[t])},u={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},c=function(e){Object.keys(u).forEach(function(t){e.style.setProperty(t,u[t],"important")})},f=null,x=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize},h=function(){},g=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],p=!!document.documentElement.currentStyle,m=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r=g.reduce(function(e,r){return e[r]=t[r],e},{}),n=r.boxSizing;if(""===n)return null;p&&"border-box"===n&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:i}};function v(e,t,r){var n=l(r);a.useLayoutEffect(function(){var r=function(e){return n.current(e)};if(e)return e.addEventListener(t,r),function(){return e.removeEventListener(t,r)}},[])}var b=function(e,t){v(document.body,"reset",function(r){e.current.form===r.target&&t(r)})},y=function(e){v(window,"resize",e)},w=function(e){v(document.fonts,"loadingdone",e)},S=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],j=a.forwardRef(function(e,t){var r=e.cacheMeasurements,n=e.maxRows,o=e.minRows,l=e.onChange,s=void 0===l?h:l,u=e.onHeightChange,g=void 0===u?h:u,p=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,S),v=void 0!==p.value,j=a.useRef(null),R=d(j,t),T=a.useRef(0),z=a.useRef(),L=function(){var e=j.current,t=r&&z.current?z.current:m(e);if(t){z.current=t;var a,i,l,s,d,u,h,p,v,b,y,w=(a=e.value||e.placeholder||"x",void 0===(i=o)&&(i=1),void 0===(l=n)&&(l=1/0),f||((f=document.createElement("textarea")).setAttribute("tabindex","-1"),f.setAttribute("aria-hidden","true"),c(f)),null===f.parentNode&&document.body.appendChild(f),s=t.paddingSize,d=t.borderSize,h=(u=t.sizingStyle).boxSizing,Object.keys(u).forEach(function(e){f.style[e]=u[e]}),c(f),f.value=a,p=x(f,t),f.value=a,p=x(f,t),f.value="x",b=(v=f.scrollHeight-s)*i,"border-box"===h&&(b=b+s+d),p=Math.max(b,p),y=v*l,"border-box"===h&&(y=y+s+d),[p=Math.min(y,p),v]),S=w[0],R=w[1];T.current!==S&&(T.current=S,e.style.setProperty("height",S+"px","important"),g(S,{rowHeight:R}))}};return a.useLayoutEffect(L),b(j,function(){if(!v){var e=j.current.value;requestAnimationFrame(function(){var t=j.current;t&&e!==t.value&&L()})}}),y(L),w(L),a.createElement("textarea",i({},p,{onChange:function(e){v||L(),s(e)},ref:R}))}),R=e.i(619110),T=e.i(843476),z=(0,n.forwardRef)((e,n)=>{let{style:i,minRows:o=3,maxRows:l=8,cacheMeasurements:s=!1,disableAutosize:d=!1,onHeightChange:u,...c}=e,{Component:f,label:x,description:h,startContent:g,endContent:p,hasHelper:m,shouldLabelBeOutside:v,shouldLabelBeInside:b,isInvalid:y,errorMessage:w,getBaseProps:S,getLabelProps:z,getInputProps:L,getInnerWrapperProps:N,getInputWrapperProps:C,getHelperWrapperProps:k,getDescriptionProps:_,getErrorMessageProps:A,isClearable:F,getClearButtonProps:E}=(0,t.useInput)({...c,ref:n,isMultiline:!0}),[M,P]=(0,a.useState)(o>1),[B,H]=(0,a.useState)(!1),O=x?(0,T.jsx)("label",{...z(),children:x}):null,W=L(),U=d?(0,T.jsx)("textarea",{...W,style:(0,r.mergeProps)(W.style,null!=i?i:{})}):(0,T.jsx)(j,{...W,cacheMeasurements:s,"data-hide-scroll":(0,r.dataAttr)(!B),maxRows:l,minRows:o,style:(0,r.mergeProps)(W.style,null!=i?i:{}),onHeightChange:(e,t)=>{1===o&&P(e>=2*t.rowHeight),l>o&&H(e>=l*t.rowHeight),null==u||u(e,t)}}),D=(0,a.useMemo)(()=>F?(0,T.jsx)("button",{...E(),children:(0,T.jsx)(R.CloseFilledIcon,{})}):null,[F,E]),I=(0,a.useMemo)(()=>g||p?(0,T.jsxs)("div",{...N(),children:[g,U,p]}):(0,T.jsx)("div",{...N(),children:U}),[g,W,p,N]),K=y&&w,q=K||h;return(0,T.jsxs)(f,{...S(),children:[v?O:null,(0,T.jsxs)("div",{...C(),"data-has-multiple-rows":(0,r.dataAttr)(M),children:[b?O:null,I,D]}),m&&q?(0,T.jsx)("div",{...k(),children:K?(0,T.jsx)("div",{...A(),children:w}):(0,T.jsx)("div",{..._(),children:h})}):null]})});z.displayName="HeroUI.Textarea";var L=z},414752,e=>{"use strict";e.s(["saveText",()=>r]);var t=e.i(95187),r=(0,t.createServerReference)("40a12743dfec275fd562fc31518b6932f2c7f6a631",t.callServer,void 0,t.findSourceMapURL,"saveText")},717770,e=>{"use strict";e.s(["default",()=>h],717770);var t=e.i(843476),r=e.i(271645),n=e.i(736132),a=e.i(335889),i=e.i(112041),o=e.i(377148),l=e.i(975157),s=e.i(24597);function d(e){let{user_id:r,item:n,handleDelete:a}=e;return(0,t.jsxs)("div",{className:"flex flex-col w-full items-start rounded-md p-1 bg-sand-300",children:[(0,t.jsx)("div",{className:"flex flex-row w-full items-center justify-start gap-2",children:(0,t.jsx)(s.Link,{target:"_blank",href:"/speak/practice/".concat(n.uuid),className:"text-2xl text-blue-600 hover:underline",children:(0,t.jsx)("pre",{className:"font-roboto leading-none text-wrap",children:n.text})})}),(0,t.jsxs)("div",{className:"flex flex-row w-full items-center justify-end gap-4",children:[(0,t.jsx)(s.Link,{target:"_blank",href:"/speak/practice?user_id=".concat(n.user_id),className:"text-sm text-gray-500 hover:underline w-full",children:"by ".concat(n.user_id)}),n.user_id===r&&(0,t.jsx)(s.Link,{as:"button",isBlock:!0,color:"danger",className:"text-xl",onPress:async()=>{window.confirm("Are you sure to delete?")&&await a(n)},children:"delete"})]})]})}var u=e.i(95187),c=(0,u.createServerReference)("00f2667f8b8920accb838e1ff58e57f8e2640a9878",u.callServer,void 0,u.findSourceMapURL,"getTextAll"),f=(0,u.createServerReference)("402402cf039ce141e8760c19eadda96919d382ad41",u.callServer,void 0,u.findSourceMapURL,"removeText"),x=e.i(414752);function h(e){let{user_id:s}=e,[u,h]=(0,r.useState)(),[g,p]=(0,r.useState)([]),[m,v]=(0,r.useState)(1),[b,y]=(0,r.useState)(!1),[w,S]=(0,r.useState)(!1),[j,R]=(0,r.useState)(!1),T=async e=>{let t=await f(e.uuid);"success"===t.status?v(e=>e+1):(console.log(t.error),(0,n.addToast)({title:"remove data error",color:"danger"}))},z=async()=>{if(!u)return;R(!0);let e=await (0,x.saveText)({uuid:(0,l.getUUID)(),user_id:s,text:u,created_by:s,created_at:new Date,updated_at:new Date});"success"===e.status?(h(""),v(e=>e+1)):(console.log(e.error),(0,n.addToast)({title:"save data error",color:"danger"})),R(!1)};return(0,r.useEffect)(()=>{(async()=>{S(!0);let e=await c();"success"===e.status?p(e.data):(console.log(e.error),(0,n.addToast)({title:"load data error",color:"danger"})),S(!1)})()},[m]),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.Textarea,{size:"lg",className:"w-full my-4",classNames:{input:"text-xl"},placeholder:"Add a new sentence to practice",onChange:e=>h(e.target.value),endContent:(0,t.jsx)(a.Button,{variant:"solid",size:"sm",color:"primary",isDisabled:j,onPress:z,children:"Add"})}),w&&(0,t.jsx)("div",{className:"flex flex-row w-full items-center justify-center gap-4 my-4",children:(0,t.jsx)(i.Spinner,{classNames:{label:"text-foreground mt-4"},variant:"simple"})}),(0,t.jsx)("div",{className:"flex flex-row items-center justify-end gap-4 my-4 mb-0",children:(0,t.jsx)(a.Button,{variant:"solid",color:"primary",isDisabled:!s,onPress:()=>y(!b),children:b?"All Texts":"Only My Texts"})}),(0,t.jsx)("div",{className:"flex flex-col w-full gap-4 my-4",children:g.filter(e=>!b||e.user_id===s).map((e,r)=>(0,t.jsx)(d,{user_id:s,item:e,handleDelete:T},"".concat(r,"-").concat(e.uuid)))})]})}}]);