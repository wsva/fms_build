(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99749,e=>{"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.s(["_",()=>t])},24597,e=>{"use strict";e.s(["Link",()=>v],24597);var t=e.i(84898),r=e.i(79754),i=(0,t.tv)({base:["relative inline-flex items-center outline-solid outline-transparent tap-highlight-transparent",...r.dataFocusVisibleClasses],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-hover active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),a=e.i(69080),n=e.i(50179),l=e.i(11458),o=e.i(49962),s=e.i(43027),d=e.i(73830),c=e.i(95494),u=e.i(20253),f=e.i(29427),p=e.i(75540),g=e.i(71645),m=e.i(43476),h=e=>(0,m.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,m.jsx)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),(0,m.jsx)("path",{d:"M15 3h6v6"}),(0,m.jsx)("path",{d:"M10 14L21 3"})]}),x=(0,d.forwardRef)((e,t)=>{let{Component:r,children:x,showAnchorIcon:v,anchorIcon:b=(0,m.jsx)(h,{className:"flex mx-1 text-current self-center"}),getLinkProps:y}=function(e){var t,r,m,h;let x=(0,c.useProviderContext)(),[v,b]=(0,d.mapPropsVariants)(e,i.variantKeys),{ref:y,as:w,children:j,anchorIcon:S,isExternal:R=!1,showAnchorIcon:k=!1,autoFocus:N=!1,className:C,onPress:B,onPressStart:L,onPressEnd:T,onClick:U,...P}=v,M=(0,u.useDOMRef)(y),D=null!=(r=null!=(t=null==e?void 0:e.disableAnimation)?t:null==x?void 0:x.disableAnimation)&&r,{linkProps:A}=function(e,t){let{elementType:r="a",onPress:i,onPressStart:d,onPressEnd:c,onClick:u,isDisabled:f,...p}=e,g={};"a"!==r&&(g={role:"link",tabIndex:f?void 0:0});let{focusableProps:m}=(0,o.useFocusable)(e,t),{pressProps:h,isPressed:x}=(0,s.usePress)({onClick:u,onPress:i,onPressStart:d,onPressEnd:c,isDisabled:f,ref:t}),v=(0,a.filterDOMProps)(p,{labelable:!0,isLink:"a"===r}),b=(0,n.mergeProps)(m,h),y=(0,l.useRouter)(),w=(0,l.useLinkProps)(e);return{isPressed:x,linkProps:(0,n.mergeProps)(v,w,{...b,...g,"aria-disabled":f||void 0,"aria-current":e["aria-current"],onClick:t=>{var r;null==(r=h.onClick)||r.call(h,t),(0,l.handleLinkClick)(t,y,e.href,e.routerOptions)}})}}({...P,onPress:B,onPressStart:L,onPressEnd:T,onClick:U,isDisabled:e.isDisabled,elementType:"".concat(w)},M),{isFocused:F,isFocusVisible:E,focusProps:z}=(0,f.useFocusRing)({autoFocus:N});R&&(P.rel=null!=(m=P.rel)?m:"noopener noreferrer",P.target=null!=(h=P.target)?h:"_blank");let W=(0,g.useMemo)(()=>i({...b,disableAnimation:D,className:C}),[(0,p.objectToDeps)(b),D,C]);return{Component:w||"a",children:j,anchorIcon:S,showAnchorIcon:k,getLinkProps:(0,g.useCallback)(()=>({ref:M,className:W,"data-focus":(0,p.dataAttr)(F),"data-disabled":(0,p.dataAttr)(e.isDisabled),"data-focus-visible":(0,p.dataAttr)(E),...(0,p.mergeProps)(z,A,P)}),[W,F,E,z,A,P])}}({ref:t,...e});return(0,m.jsx)(r,{...y(),children:(0,m.jsxs)(m.Fragment,{children:[x,v&&b]})})});x.displayName="HeroUI.Link";var v=x},77148,e=>{"use strict";e.s(["Textarea",()=>C],77148);var t=e.i(34738),r=e.i(75540),i=e.i(73830),a=e.i(71645);function n(){return(n=Object.assign.bind()).apply(null,arguments)}var l=a.useLayoutEffect,o=function(e){var t=a.default.useRef(e);return l(function(){t.current=e}),t},s=function(e,t){if("function"==typeof e)return void e(t);e.current=t},d=function(e,t){var r=a.default.useRef();return a.default.useCallback(function(i){e.current=i,r.current&&s(r.current,null),r.current=t,t&&s(t,i)},[t])},c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},u=function(e){Object.keys(c).forEach(function(t){e.style.setProperty(t,c[t],"important")})},f=null,p=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize},g=function(){},m=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],h=!!document.documentElement.currentStyle,x=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r=m.reduce(function(e,r){return e[r]=t[r],e},{}),i=r.boxSizing;if(""===i)return null;h&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),n=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:n}};function v(e,t,r){var i=o(r);a.useLayoutEffect(function(){var r=function(e){return i.current(e)};if(e)return e.addEventListener(t,r),function(){return e.removeEventListener(t,r)}},[])}var b=function(e,t){v(document.body,"reset",function(r){e.current.form===r.target&&t(r)})},y=function(e){v(window,"resize",e)},w=function(e){v(document.fonts,"loadingdone",e)},j=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],S=a.forwardRef(function(e,t){var r=e.cacheMeasurements,i=e.maxRows,l=e.minRows,o=e.onChange,s=void 0===o?g:o,c=e.onHeightChange,m=void 0===c?g:c,h=function(e,t){if(null==e)return{};var r={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;r[i]=e[i]}return r}(e,j),v=void 0!==h.value,S=a.useRef(null),R=d(S,t),k=a.useRef(0),N=a.useRef(),C=function(){var e=S.current,t=r&&N.current?N.current:x(e);if(t){N.current=t;var a,n,o,s,d,c,g,h,v,b,y,w=(a=e.value||e.placeholder||"x",void 0===(n=l)&&(n=1),void 0===(o=i)&&(o=1/0),f||((f=document.createElement("textarea")).setAttribute("tabindex","-1"),f.setAttribute("aria-hidden","true"),u(f)),null===f.parentNode&&document.body.appendChild(f),s=t.paddingSize,d=t.borderSize,g=(c=t.sizingStyle).boxSizing,Object.keys(c).forEach(function(e){f.style[e]=c[e]}),u(f),f.value=a,h=p(f,t),f.value=a,h=p(f,t),f.value="x",b=(v=f.scrollHeight-s)*n,"border-box"===g&&(b=b+s+d),h=Math.max(b,h),y=v*o,"border-box"===g&&(y=y+s+d),[h=Math.min(y,h),v]),j=w[0],R=w[1];k.current!==j&&(k.current=j,e.style.setProperty("height",j+"px","important"),m(j,{rowHeight:R}))}};return a.useLayoutEffect(C),b(S,function(){if(!v){var e=S.current.value;requestAnimationFrame(function(){var t=S.current;t&&e!==t.value&&C()})}}),y(C),w(C),a.createElement("textarea",n({},h,{onChange:function(e){v||C(),s(e)},ref:R}))}),R=e.i(19110),k=e.i(43476),N=(0,i.forwardRef)((e,i)=>{let{style:n,minRows:l=3,maxRows:o=8,cacheMeasurements:s=!1,disableAutosize:d=!1,onHeightChange:c,...u}=e,{Component:f,label:p,description:g,startContent:m,endContent:h,hasHelper:x,shouldLabelBeOutside:v,shouldLabelBeInside:b,isInvalid:y,errorMessage:w,getBaseProps:j,getLabelProps:N,getInputProps:C,getInnerWrapperProps:B,getInputWrapperProps:L,getHelperWrapperProps:T,getDescriptionProps:U,getErrorMessageProps:P,isClearable:M,getClearButtonProps:D}=(0,t.useInput)({...u,ref:i,isMultiline:!0}),[A,F]=(0,a.useState)(l>1),[E,z]=(0,a.useState)(!1),W=p?(0,k.jsx)("label",{...N(),children:p}):null,H=C(),I=d?(0,k.jsx)("textarea",{...H,style:(0,r.mergeProps)(H.style,null!=n?n:{})}):(0,k.jsx)(S,{...H,cacheMeasurements:s,"data-hide-scroll":(0,r.dataAttr)(!E),maxRows:o,minRows:l,style:(0,r.mergeProps)(H.style,null!=n?n:{}),onHeightChange:(e,t)=>{1===l&&F(e>=2*t.rowHeight),o>l&&z(e>=o*t.rowHeight),null==c||c(e,t)}}),_=(0,a.useMemo)(()=>M?(0,k.jsx)("button",{...D(),children:(0,k.jsx)(R.CloseFilledIcon,{})}):null,[M,D]),O=(0,a.useMemo)(()=>m||h?(0,k.jsxs)("div",{...B(),children:[m,I,h]}):(0,k.jsx)("div",{...B(),children:I}),[m,H,h,B]),V=y&&w,G=V||g;return(0,k.jsxs)(f,{...j(),children:[v?W:null,(0,k.jsxs)("div",{...L(),"data-has-multiple-rows":(0,r.dataAttr)(A),children:[b?W:null,O,_]}),x&&G?(0,k.jsx)("div",{...T(),children:V?(0,k.jsx)("div",{...P(),children:w}):(0,k.jsx)("div",{...U(),children:g})}):null]})});N.displayName="HeroUI.Textarea";var C=N},86914,e=>{"use strict";e.s(["ButtonGroup",()=>c],86914);var t=e.i(46834),r=e.i(73830),i=e.i(95494),a=e.i(20253),n=e.i(71645),l=e.i(75540),o=e.i(60582),s=e.i(43476),d=(0,r.forwardRef)((e,d)=>{let{Component:c,domRef:u,context:f,children:p,classNames:g,getButtonGroupProps:m}=function(e){var o,s;let d=(0,i.useProviderContext)(),[c,u]=(0,r.mapPropsVariants)(e,t.buttonGroup.variantKeys),{ref:f,as:p,children:g,color:m="default",size:h="md",variant:x="solid",radius:v,isDisabled:b=!1,isIconOnly:y=!1,disableRipple:w=null!=(o=null==d?void 0:d.disableRipple)&&o,disableAnimation:j=null!=(s=null==d?void 0:d.disableAnimation)&&s,className:S,...R}=c,k=(0,a.useDOMRef)(f),N=(0,n.useMemo)(()=>(0,t.buttonGroup)({...u,className:S}),[(0,l.objectToDeps)(u),S]),C=(0,n.useMemo)(()=>({size:h,color:m,variant:x,radius:v,isIconOnly:y,isDisabled:b,disableAnimation:j,disableRipple:w,fullWidth:!!(null==e?void 0:e.fullWidth)}),[h,m,x,v,b,y,j,w,null==e?void 0:e.fullWidth]);return{Component:p||"div",children:g,domRef:k,context:C,classNames:N,getButtonGroupProps:(0,n.useCallback)(()=>({role:"group",...R}),[R])}}({...e,ref:d});return(0,s.jsx)(o.ButtonGroupProvider,{value:f,children:(0,s.jsx)(c,{ref:u,className:g,...m(),children:p})})});d.displayName="HeroUI.ButtonGroup";var c=d},99817,49649,e=>{"use strict";e.s(["BaseSection",()=>i],99817);var t=e.i(71645);function r(e){return null}r.getCollectionNode=function*(e){let{children:r,title:i,items:a}=e;yield{type:"section",props:e,hasChildNodes:!0,rendered:i,"aria-label":e["aria-label"],*childNodes(){if("function"==typeof r){if(!a)throw Error("props.children was a function but props.items is missing");for(let e of a)yield{type:"item",value:e,renderer:r}}else{let e=[];t.default.Children.forEach(r,t=>{e.push({type:"item",element:t})}),yield*e}}}};let i=r;e.s(["FamiliarityList",()=>d,"FilterType",()=>a,"FilterTypeList",()=>n,"TagAll",()=>o,"TagNo",()=>s,"TagUnspecified",()=>l],49649);var a=function(e){return e.Normal="normal",e.Easy="easy",e.Unspecified="unspecified",e.Uncomplete="uncomplete",e}({});let n=[{value:"unspecified",description:"all"},{value:"normal",description:"familiarity < 6"},{value:"easy",description:"familiarity = 6"},{value:"uncomplete",description:"question or answer is empty"}],l="unspecified",o="all tagged",s="not tagged";!function(e){e[e.NewlyAdded=0]="NewlyAdded",e[e.StillUnfamiliar=1]="StillUnfamiliar",e[e.PassiveUnderstanding=2]="PassiveUnderstanding",e[e.RecognitionWithoutUnderstanding=3]="RecognitionWithoutUnderstanding",e[e.UnderstandingInContext=4]="UnderstandingInContext",e[e.ActiveRecall=5]="ActiveRecall",e[e.NaturalUsage=6]="NaturalUsage"}({});let d=[{value:0,description:"Newly Added",label:"newly added",color:"bg-slate-200"},{value:1,description:"Still Unfamiliar",label:"strange",color:"bg-red-200"},{value:2,description:"Passive Understanding",label:"known",color:"bg-orange-200"},{value:3,description:"Recognition Without Understanding",label:"familiar",color:"bg-amber-200"},{value:4,description:"Understanding in Context",label:"skilled",color:"bg-cyan-200"},{value:5,description:"Active Recall",label:"practiced",color:"bg-green-200"},{value:6,description:"Natural Usage",label:"easy & never appear again",color:"bg-lime-200"}]},53371,e=>{"use strict";e.s(["getTagAll",()=>r]);var t=e.i(95187),r=(0,t.createServerReference)("40c15ba6e7bc9952e8b1b4e809d594576524fe383f",t.callServer,void 0,t.findSourceMapURL,"getTagAll")},32049,e=>{"use strict";e.s(["DropdownSection",()=>t],32049);var t=e.i(99817).BaseSection},46941,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(43476),r=e.i(22016);function i(e){let{list:i}=e;return(0,t.jsx)("div",{className:"flex flex-col w-full gap-4 py-4",children:i.map((e,i)=>(0,t.jsxs)("div",{className:"flex flex-col w-full items-start bg-slate-200 rounded-md p-1",children:[(0,t.jsx)("div",{className:"text-xl whitespace-pre-wrap",children:e}),(0,t.jsx)("div",{className:"flex flex-row w-full items-end justify-end gap-4",children:(0,t.jsx)(r.default,{className:"text-blue-600 hover:underline",target:"_blank",href:"/card/add?edit=y&content=".concat(encodeURIComponent(e)),children:"Add to Card"})})]},i))})}},71789,e=>{"use strict";e.s(["default",()=>j],71789);var t=e.i(43476),r=e.i(35889),i=e.i(86914),a=e.i(33716),n=e.i(72853),l=e.i(76331),o=e.i(8870),s=e.i(77148),d=e.i(32049),c=e.i(24597),u=e.i(71645),f=e.i(75157),p=e.i(33401),g=e.i(46941),m=e.i(95187),h=(0,m.createServerReference)("60f2f0259789265aab3af75ec287afd0d1c6e36197",m.callServer,void 0,m.findSourceMapURL,"getCardTest"),x=(0,m.createServerReference)("40971836fdb6b50b7a564e2b39dae7fba9161a03af",m.callServer,void 0,m.findSourceMapURL,"getCardTestByUUID"),v=(0,m.createServerReference)("406f6d4ab12b825255a61b3a15894616e7eccc0a98",m.callServer,void 0,m.findSourceMapURL,"saveCardReview"),b=e.i(49649),y=e.i(70319),w=(0,m.createServerReference)("407aba8bfbdbc9456325c0e273d84b49cb8d30f78a",m.callServer,void 0,m.findSourceMapURL,"getExampleByWord");function j(e){let{user_id:m,tag_uuid:j,card_uuid:S}=e,[R,k]=(0,u.useState)(),[N,C]=(0,u.useState)(!1),[B,L]=(0,u.useState)(!1),[T,U]=(0,u.useState)([]);(0,u.useEffect)(()=>{(async()=>{if(S){let e=await x(S);"success"===e.status&&k(e.data)}else if(m&&j){let e=await h(m,j);"success"===e.status&&k(e.data)}})()},[S,j,m]);let P=async e=>{if(!R)return;if(m!==R.user_id)return void y.toast.error("this is not your card");let{repetitions:t,interval_days:r,ease_factor:i}=R;r||(r=0),i||(i=0),t||(t=0),e<3?(t=0,r=1):(r=0===t?1:1===t?6:Math.round(r*i),t+=1),(i+=.1-(5-e)*(.08+(5-e)*.02))<1.3&&(i=1.3);let a=new Date;a.setDate(a.getDate()+r),await v({uuid:R.uuid,card_uuid:R.card_uuid,user_id:R.user_id,interval_days:r,ease_factor:i,repetitions:t,familiarity:e,last_review_at:new Date,next_review_at:a})?window.location.reload():y.toast.error("save review error")};return(0,t.jsx)(t.Fragment,{children:R?(0,t.jsxs)("div",{className:"flex flex-col my-5 mx-5",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-4 items-end justify-end",children:[(0,t.jsx)(r.Button,{as:c.Link,target:"_blank",color:"secondary",href:"/card/".concat(R.uuid,"/?edit=y"),children:"EDIT"}),(0,t.jsx)(r.Button,{color:"secondary",onPress:()=>window.location.reload(),children:"NEXT"})]}),(0,t.jsx)("div",{className:"flex flex-row items-center justify-center",children:R.card.question.length<30?(0,t.jsx)("div",{className:"my-5 font-bold text-2xl md:text-4xl lg:text-6xl xl:text-8xl",children:(0,t.jsx)("pre",{className:"font-roboto leading-none",children:R.card.question})}):(0,t.jsx)("div",{className:"my-5 font-bold text-base md:text-xl lg:text-2xl xl:text-4xl",children:(0,t.jsx)("pre",{className:"font-roboto leading-none",children:R.card.question})})}),(0,t.jsxs)("div",{className:"flex flex-row my-5 items-center justify-center gap-4",children:[R.card.suggestion.length>0?(0,t.jsx)(r.Button,{color:"primary",variant:"solid",onPress:()=>C(!N),children:N?"hide suggestion":"show suggestion"}):null,(0,t.jsx)(r.Button,{color:"primary",variant:"solid",onPress:()=>L(!B),children:B?"hide answer":"show answer"}),(0,t.jsx)(i.ButtonGroup,{variant:"solid",color:"primary",children:(0,t.jsxs)(a.Dropdown,{placement:"bottom-end",children:[(0,t.jsx)(n.DropdownTrigger,{children:(0,t.jsxs)(r.Button,{children:["feedback ",(0,t.jsx)(p.BiCaretDown,{})]})}),(0,t.jsx)(l.DropdownMenu,{disallowEmptySelection:!0,className:"max-w-[300px]",selectionMode:"single",onSelectionChange:async e=>{e.currentKey&&await P(parseInt(e.currentKey))},children:(0,t.jsx)(d.DropdownSection,{items:b.FamiliarityList,children:b.FamiliarityList.map(e=>{let r;return(0,t.jsx)(o.DropdownItem,{description:e.description,className:"".concat((r=e.value,b.FamiliarityList.map(e=>e.color)[r])),children:"".concat(e.value," - ").concat(e.label)},e.value)})})})]})})]}),N?(0,t.jsx)(s.Textarea,{isDisabled:!0,classNames:{input:"text-2xl leading-tight font-roboto"},defaultValue:R.card.suggestion}):null,B?(0,t.jsx)("div",{className:"MD my-1 text-base md:text-xl lg:text-2xl xl:text-4xl leading-tight font-roboto indent-0 whitespace-pre-wrap break-words hyphens-auto",dangerouslySetInnerHTML:{__html:(0,f.getHTML)(R.card.answer)}}):null,B?(0,t.jsx)(s.Textarea,{isDisabled:!0,classNames:{input:"text-2xl leading-tight font-roboto"},defaultValue:R.card.note}):null,R.card.note.indexOf('"lemma":"')>=0&&(0,t.jsx)("div",{className:"flex flex-row gap-4 items-center justify-center",children:(0,t.jsx)(r.Button,{color:"primary",onPress:async()=>{let e=R.card.note.match(/"lemma":"([^"]+)"/);if(e){let t=e[1].trim(),r=await w(t);"success"===r.status&&U(r.data)}},children:"View Examples"})}),T.length>0&&(0,t.jsx)(g.default,{list:T})]}):(0,t.jsx)("div",{children:"no test available"})})}},28101,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(43476),r=e.i(53371),i=e.i(71645),a=e.i(24597);function n(e){let{user_id:n}=e,[l,o]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async()=>{if(!n)return;let e=await (0,r.getTagAll)(n);"success"===e.status&&o(e.data)})()},[n]),(0,t.jsxs)("div",{className:"flex flex-col items-start justify-center my-4",children:[(0,t.jsx)("div",{className:"text-2xl",children:"Select a tag as the scope"}),l.map(e=>(0,t.jsxs)(a.Link,{target:"_blank",className:"flex m-4 text-2xl font-bold text-blue-600 hover:underline",href:"/card/test?tag=".concat(e.uuid),children:[e.tag," ",e.description?"(".concat(e.description,")"):""]},e.uuid))]})}}]);